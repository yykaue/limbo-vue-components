module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=60)}([function(e,t){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},function(e,t,n){var i=n(11),r=n(12);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},function(e,t,n){"use strict";var i=n(4);o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var r=o.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function o(e,t,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof e?c(this,e):function(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);o.TYPED_ARRAY_SUPPORT?r.__proto__=o.prototype:r=l(e,r);return r}(e,t,n,i);if("string"==typeof t)return function(e,t){var n=0|f(t),i=s(e,n),r=i.write(t);r!==n&&(i=i.slice(0,r));return i}(e,t);return function(e,t){if(o.isBuffer(t)){var n=0|a(t.length),i=s(e,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new o(e,t,n)}function a(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function s(e,t){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=o.prototype:(null===(n=e)&&(n=new o(t)),n.length=t),n}function c(e,t){var n=s(e,t<0?0:0|a(t));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function l(e,t){for(var n=t.length<0?0:0|a(t.length),i=s(e,n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function u(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function f(e){return o.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:u(e).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,i){return function(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}(u(t,e.length-n),e,n,i)}(this,e,t,n)},o.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var r=t-e;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=o.isBuffer(e)?e:new o(e),s=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%s]}return this},o.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c(null,t),a=0;for(n=0;n<e.length;++n){var l=e[n];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,a),a+=l.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports.alloc=function(e){var t=new o(e);return t.fill(0),t},e.exports.from=function(e){return new o(e)}},function(e,t,n){var i,r,o,a,s;this||window,s=function(){!function(e,t){"use strict";function n(e,n,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,i=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||r(e[a])))throw"module definition dependecy not found: "+e[a];i.push(n)}t.apply(null,i)}(n,(function(){o[e]=i.apply(null,arguments)}))}function i(e){return!!o[e]}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};n("moxie/core/utils/Basic",[],(function(){function e(e){return void 0===e?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return i(!1,!1,arguments)}function n(n){switch(e(n)){case"array":return Array.prototype.slice.call(n);case"object":return t({},n)}return n}function i(t,a,s){var c,l=s[0];return r(s,(function(s,u){u>0&&r(s,(function(r,s){var u=-1!==o(e(r),["array","object"]);return!!(r===c||t&&l[s]===c)||(u&&a&&(r=n(r)),void(e(l[s])===e(r)&&u?i(t,a,[l[s],r]):l[s]=r))}))})),l}function r(e,t){var n,i,r,o;if(e){try{n=e.length}catch(e){n=o}if(n===o||"number"!=typeof n){for(i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))return}else for(r=0;n>r;r++)if(!1===t(e[r],r))return}}function o(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1}return{guid:function(){var e=0;return function(t){var n,i=(new Date).getTime().toString(32);for(n=0;5>n;n++)i+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+i+(e++).toString(32)}}(),typeOf:e,extend:t,extendIf:function(){return i(!0,!1,arguments)},extendImmutable:function(){return i(!1,!0,arguments)},extendImmutableIf:function(){return i(!0,!0,arguments)},clone:function(t){switch(e(t)){case"array":return i(!1,!0,[[],t]);case"object":return i(!1,!0,[{},t]);default:return t}},inherit:function(e,t){function n(){this.constructor=e}for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.parent=t.prototype,e},each:r,isEmptyObj:function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},inSeries:function(t,n){var i=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),function r(o){"function"===e(t[o])&&t[o]((function(e){++o<i&&!e?r(o):n(e)}))}(0)},inParallel:function(e,t){var n=0,i=e.length,o=new Array(i);r(e,(function(e,r){e((function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[r]=a,++n===i&&(o.unshift(null),t.apply(this,o))}))}))},inArray:o,arrayDiff:function(t,n){var i=[];for(var r in"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]),t)-1===o(t[r],n)&&i.push(t[r]);return!!i.length&&i},arrayIntersect:function(e,t){var n=[];return r(e,(function(e){-1!==o(e,t)&&n.push(e)})),n.length?n:null},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},trim:function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},sprintf:function(e){var t=[].slice.call(arguments,1);return e.replace(/%([a-z])/g,(function(e,n){var i=t.shift();switch(n){case"s":return i+"";case"d":return parseInt(i,10);case"f":return parseFloat(i);case"c":return"";default:return i}}))},parseSizeStr:function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return t=(e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")))[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),Math.floor(e)},delay:function(e,t){var n=this;setTimeout((function(){e.call(n)}),t||1)}}})),n("moxie/core/utils/Encode",[],(function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))};return{utf8_encode:e,utf8_decode:t,atob:function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i,r,o,a,s,c,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,d=0,h=[];if(!e)return e;e+="";do{i=255&(c=u.indexOf(e.charAt(f++))<<18|u.indexOf(e.charAt(f++))<<12|(a=u.indexOf(e.charAt(f++)))<<6|(s=u.indexOf(e.charAt(f++))))>>16,r=255&c>>8,o=255&c,h[d++]=64==a?String.fromCharCode(i):64==s?String.fromCharCode(i,r):String.fromCharCode(i,r,o)}while(f<e.length);return l=h.join(""),n?t(l):l},btoa:function(t,n){if(n&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var i,r,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,u=0,f="",d=[];if(!t)return t;do{i=63&(s=t.charCodeAt(l++)<<16|t.charCodeAt(l++)<<8|t.charCodeAt(l++))>>18,r=63&s>>12,o=63&s>>6,a=63&s,d[u++]=c.charAt(i)+c.charAt(r)+c.charAt(o)+c.charAt(a)}while(l<t.length);f=d.join("");var h=t.length%3;return(h?f.slice(0,h-3):f)+"===".slice(h||3)}}})),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],(function(e){var n=function(e){var t="function",n="undefined",i="object",r="name",o="version",a=function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},s={rgx:function(){for(var r,o,a,s,c,l,u,f=0,d=arguments;f<d.length;f+=2){var h=d[f],p=d[f+1];if(typeof r===n)for(s in r={},p)typeof(c=p[s])===i?r[c[0]]=e:r[c]=e;for(o=a=0;o<h.length;o++)if(l=h[o].exec(this.getUA())){for(s=0;s<p.length;s++)u=l[++a],typeof(c=p[s])===i&&c.length>0?2==c.length?r[c[0]]=typeof c[1]==t?c[1].call(this,u):c[1]:3==c.length?r[c[0]]=typeof c[1]!==t||c[1].exec&&c[1].test?u?u.replace(c[1],c[2]):e:u?c[1].call(this,u,c[2]):e:4==c.length&&(r[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):e):r[c]=u||e;break}if(l)break}return r},str:function(t,n){for(var r in n)if(typeof n[r]===i&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(a(n[r][o],t))return"?"===r?e:r}else if(a(n[r],t))return"?"===r?e:r;return t}},c={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},l={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[r,o],[/\s(opr)\/([\w\.]+)/i],[[r,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[r,o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[r,"IE"],o],[/(edge)\/((\d+)?[\w\.]+)/i],[r,o],[/(yabrowser)\/([\w\.]+)/i],[[r,"Yandex"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[r,o],[/(dolfin)\/([\w\.]+)/i],[[r,"Dolphin"],o],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[r,"Chrome"],o],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[o,[r,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[o,[r,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[o,[r,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[r,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,r],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[r,[o,s.str,c.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[r,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[r,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[r,o]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[r,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[r,o],[/rv\:([\w\.]+).*(gecko)/i],[o,r]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[r,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[r,[o,s.str,c.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[r,"Windows"],[o,s.str,c.os.windows.version]],[/\((bb)(10);/i],[[r,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[r,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[r,"Symbian"],o],[/\((series40);/i],[r],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[r,"Firefox OS"],o],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[r,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[r,"Chromium OS"],o],[/(sunos)\s?([\w\.]+\d)*/i],[[r,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[r,o],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[r,"iOS"],[o,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[r,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[r,o]]};return function(e){var t=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");this.getBrowser=function(){return s.rgx.apply(this,l.browser)},this.getEngine=function(){return s.rgx.apply(this,l.engine)},this.getOS=function(){return s.rgx.apply(this,l.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return t},this.setUA=function(e){return t=e,this},this.setUA(t)}}(),i=function(){var n={access_global_ns:function(){return!!window.moxie},define_property:!1,create_canvas:function(){var e=document.createElement("canvas"),t=!(!e.getContext||!e.getContext("2d"));return n.create_canvas=t,t},return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType===t}}catch(e){}return!1},use_blob_uri:function(){var e=window.URL;return n.use_blob_uri=e&&"createObjectURL"in e&&"revokeObjectURL"in e&&("IE"!==o.browser||o.verComp(o.version,"11.0.46",">=")),n.use_blob_uri},use_data_uri:function(){var e=new Image;return e.onload=function(){n.use_data_uri=1===e.width&&1===e.height},setTimeout((function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="}),1),!1}(),use_data_uri_over32kb:function(){return n.use_data_uri&&("IE"!==o.browser||o.version>=9)},use_data_uri_of:function(e){return n.use_data_uri&&33e3>e||n.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),n.use_fileinput=!e.disabled},use_webgl:function(){var e,i=document.createElement("canvas"),r=null;try{r=i.getContext("webgl")||i.getContext("experimental-webgl")}catch(e){}return r||(r=null),e=!!r,n.use_webgl=e,i=t,e}};return function(t){var i=[].slice.call(arguments);return i.shift(),"function"===e.typeOf(n[t])?n[t].apply(this,i):!!n[t]}}(),r=(new n).getResult(),o={can:i,uaParser:n,browser:r.browser.name,version:r.browser.version,os:r.os.name,osVersion:r.os.version,verComp:function(e,t,n){var i,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},c=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),i=Math.max(e.length,t.length),r=0;i>r;r++)if(e[r]!=t[r]){if(e[r]=c(e[r]),t[r]=c(t[r]),e[r]<t[r]){o=-1;break}if(e[r]>t[r]){o=1;break}}if(!n)return o;switch(n){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return 0>=o;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return 0>o;default:return null}},swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return o.OS=o.os,o})),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],(function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e,n){this.code=e,this.name=t(i,e),this.message=this.name+(n||": RuntimeError "+this.code)}var i={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": ImageError "+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": FileException "+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": DOMException "+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}})),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],(function(e){var t=function(e,t){return!!e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)};return{get:function(e){return"string"!=typeof e?e:document.getElementById(e)},hasClass:t,addClass:function(e,n){t(e,n)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+n:n)},removeClass:function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,(function(e,t,n){return" "===t&&" "===n?" ":""}))}},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},getPos:function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r,o,a,s=0,c=0,l=document;if(t=t,n=n||l.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!l.documentMode||l.documentMode<8))return o=i(t),a=i(n),{x:o.x-a.x,y:o.y-a.y};for(r=t;r&&r!=n&&r.nodeType;)s+=r.offsetLeft||0,c+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=n&&r.nodeType;)s-=r.scrollLeft||0,c-=r.scrollTop||0,r=r.parentNode;return{x:s,y:c}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}}}})),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],(function(e,t,n){function i(){this.uid=n.guid()}var r={};return n.extend(i.prototype,{init:function(){this.uid||(this.uid=n.guid("uid_"))},addEventListener:function(e,t,i,o){var a,s=this;return this.hasOwnProperty("uid")||(this.uid=n.guid("uid_")),e=n.trim(e),/\s/.test(e)?void n.each(e.split(/\s+/),(function(e){s.addEventListener(e,t,i,o)})):(e=e.toLowerCase(),i=parseInt(i,10)||0,(a=r[this.uid]&&r[this.uid][e]||[]).push({fn:t,priority:i,scope:o||this}),r[this.uid]||(r[this.uid]={}),void(r[this.uid][e]=a))},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=r[this.uid]&&r[this.uid][e]):t=r[this.uid],t||!1},removeEventListener:function(e,t){var i,o,a=this;if(e=e.toLowerCase(),/\s/.test(e))n.each(e.split(/\s+/),(function(e){a.removeEventListener(e,t)}));else if(i=r[this.uid]&&r[this.uid][e]){if(t){for(o=i.length-1;o>=0;o--)if(i[o].fn===t){i.splice(o,1);break}}else i=[];i.length||(delete r[this.uid][e],n.isEmptyObj(r[this.uid])&&delete r[this.uid])}},removeAllEventListeners:function(){r[this.uid]&&delete r[this.uid]},dispatchEvent:function(e){var i,o,a,s,c,l={},u=!0;if("string"!==n.typeOf(e)){if(s=e,"string"!==n.typeOf(s.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=s.type,s.total!==c&&s.loaded!==c&&(l.total=s.total,l.loaded=s.loaded),l.async=s.async||!1}if(-1!==e.indexOf("::")?function(t){i=t[0],e=t[1]}(e.split("::")):i=this.uid,e=e.toLowerCase(),o=r[i]&&r[i][e]){o.sort((function(e,t){return t.priority-e.priority})),(a=[].slice.call(arguments)).shift(),l.type=e,a.unshift(l);var f=[];n.each(o,(function(e){a[0].target=e.scope,l.async?f.push((function(t){setTimeout((function(){t(!1===e.fn.apply(e.scope,a))}),1)})):f.push((function(t){t(!1===e.fn.apply(e.scope,a))}))})),f.length&&n.inSeries(f,(function(e){u=!e}))}return u},bindOnce:function(e,t,n,i){var r=this;r.bind.call(this,e,(function n(){return r.unbind(e,n),t.apply(this,arguments)}),n,i)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),(function(e){var t="on"+e.type.toLowerCase();"function"===n.typeOf(this[t])&&this[t].apply(this,arguments)})),n.each(e,(function(e){e="on"+e.toLowerCase(e),"undefined"===n.typeOf(t[e])&&(t[e]=null)}))}}),i.instance=new i,i})),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],(function(e,t,n,i){function r(e,i,o,s,c){var l,u=this,f=t.guid(i+"_"),d=c||"browser";e=e||{},a[f]=this,o=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),e.preferred_caps&&(d=r.getMode(s,e.preferred_caps,d)),l=function(){var e={};return{exec:function(t,n,i,r){return l[n]&&(e[t]||(e[t]={context:this,instance:new l[n]}),e[t].instance[i])?e[t].instance[i].apply(this,r):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var n=this;t.each(e,(function(e,i){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),n.removeInstance(i)}))}}}(),t.extend(this,{initialized:!1,uid:f,type:i,mode:r.getMode(s,e.required_caps,d),shimid:f+"_container",clients:0,options:e,can:function(e,n){var i=arguments[2]||o;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(n)&&(e=r.parseCaps(e)),"object"===t.typeOf(e)){for(var a in e)if(!this.can(a,e[a],i))return!1;return!0}return"function"===t.typeOf(i[e])?i[e].call(this,n):n===i[e]},getShimContainer:function(){var e,i=n.get(this.shimid);return i||(e=n.get(this.options.container)||document.body,(i=document.createElement("div")).id=this.shimid,i.className="moxie-shim moxie-shim-"+this.type,t.extend(i.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(i),e=null),i},getShim:function(){return l},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,n):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=n.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,f=u=l=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var o={},a={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return!!a[e]&&a[e]},r.addConstructor=function(e,t){t.prototype=i.instance,o[e]=t},r.getConstructor=function(e){return o[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(e){var n={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),(function(e){n[e]=!0})),n)},r.can=function(e,t){var n,i,o=r.getConstructor(e);return!!o&&(i=(n=new o({required_caps:t})).mode,n.destroy(),!!i)},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.getMode=function(e,n,i){var r=null;if("undefined"===t.typeOf(i)&&(i="browser"),n&&!t.isEmptyObj(e)){if(t.each(n,(function(n,i){if(e.hasOwnProperty(i)){var o=e[i](n);if("string"==typeof o&&(o=[o]),r){if(!(r=t.arrayIntersect(r,o)))return r=!1}else r=o}})),r)return-1!==t.inArray(i,r)?i:r[0];if(!1===r)return!1}return i},r.getGlobalEventTarget=function(){if(/^moxie\./.test(e.global_event_dispatcher)&&!e.can("access_global_ns")){var n=t.guid("moxie_event_target_");window[n]=function(e,t){i.instance.dispatchEvent(e,t)},e.global_event_dispatcher=n}return e.global_event_dispatcher},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r})),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],(function(e,t,n,i){return function(){var e;n.extend(this,{connectRuntime:function(r){var o,a=this;if("string"===n.typeOf(r)?o=r:"string"===n.typeOf(r.ruid)&&(o=r.ruid),o){if(e=i.getRuntime(o))return a.ruid=o,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}!function n(o){var s,c;return o.length?(s=o.shift().toLowerCase(),(c=i.getConstructor(s))?((e=new c(r)).bind("Init",(function(){e.initialized=!0,setTimeout((function(){e.clients++,a.ruid=e.uid,a.trigger("RuntimeInit",e)}),1)})),e.bind("Error",(function(){e.destroy(),n(o)})),e.bind("Exception",(function(e,n){var i=n.name+"(#"+n.code+")"+(n.message?", from: "+n.message:"");a.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,i))})),e.mode?void e.init():void e.trigger("Error")):void n(o)):(a.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),void(e=null))}((r.runtime_order||i.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return!!e&&e.can(t)}})}})),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],(function(e,t,n){var i={};return function r(o,a){function s(t,n,o){var a,s=i[this.uid];return"string"===e.typeOf(s)&&s.length?((a=new r(null,{type:o,size:n-t})).detach(s.substr(t,a.size)),a):null}n.call(this),o&&this.connectRuntime(o),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:o,size:a.size||0,type:a.type||"",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),"data:"==(e=e||"").substr(0,5)){var n=e.indexOf(";base64,");this.type=e.substring(5,n),e=t.atob(e.substring(n+8))}this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),a.data?this.detach(a.data):i[this.uid]=a}})),n("moxie/core/I18n",["moxie/core/utils/Basic"],(function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,(function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""}))}}})),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],(function(e,t){var n={},i={},r=function(e){var t,r,o,a=e.split(/,/);for(t=0;t<a.length;t+=2){for(o=a[t+1].split(/ /),r=0;r<o.length;r++)n[o[r]]=a[t];i[a[t]]=o}},o=function(t){var n=[];return e.each(t,(function(t){if("*"===(t=t.toLowerCase()))return n=[],!1;var r=t.match(/^(\w+)\/(\*|\w+)$/);r&&("*"===r[2]?e.each(i,(function(e,t){new RegExp("^"+r[1]+"/").test(t)&&[].push.apply(n,i[t])})):i[t]&&[].push.apply(n,i[t]))})),n},a=function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""};return r("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb xlt xla,application/vnd.ms-powerpoint,ppt pps pot ppa,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe"),{mimes:n,extensions:i,addMimeType:r,extList2mimes:function(t,n){var i,r,o,a,s=[];for(r=0;r<t.length;r++)for(i=t[r].extensions.toLowerCase().split(/\s*,\s*/),o=0;o<i.length;o++){if("*"===i[o])return[];if(a=s[i[o]],n&&/^\w+$/.test(i[o]))s.push("."+i[o]);else if(a&&-1===e.inArray(a,s))s.push(a);else if(!a)return[]}return s},mimes2exts:o,mimes2extList:function(n){var i=[],r=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),r=o(n),i.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),i},getFileExtension:a,getFileMime:function(e){return n[a(e)]||""}}})),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],(function(e,t,n,i,r,o,a,s,c){function l(t){var o,l,f;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),!(l=i.get(t.browse_button)))throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);f={accept:[{title:a.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:l.parentNode||document.body},"string"==typeof(t=e.extend({},f,t)).required_caps&&(t.required_caps=s.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=n.mimes2extList(t.accept)),(o=i.get(t.container))||(o=document.body),"static"===i.getStyle(o,"position")&&(o.style.position="relative"),o=l=null,c.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var n=this;n.bind("RuntimeInit",(function(r,o){n.ruid=o.uid,n.shimid=o.shimid,n.bind("Ready",(function(){n.trigger("Refresh")}),999),n.bind("Refresh",(function(){var n,r,a,s,c;a=i.get(t.browse_button),s=i.get(o.shimid),a&&(n=i.getPos(a,i.get(t.container)),r=i.getSize(a),c=parseInt(i.getStyle(a,"z-index"),10)||0,s&&e.extend(s.style,{top:n.y+"px",left:n.x+"px",width:r.w+"px",height:r.h+"px",zIndex:c+1})),s=a=null})),o.exec.call(n,"FileInput","init",t)})),n.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,i){if(t.hasOwnProperty(e)){var o=t[e];switch(e){case"accept":"string"==typeof i&&(i=n.mimes2extList(i));break;case"container":case"required_caps":throw new r.FileException(r.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=i,this.exec("FileInput","setOption",e,i),this.trigger("OptionChanged",e,i,o)}},disable:function(t){this.getRuntime()&&this.exec("FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,(function(e){e.destroy()})),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return l.prototype=o.instance,l})),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],(function(e,t,n){function i(i,r){var o;if(r||(r={}),n.apply(this,arguments),this.type||(this.type=t.getFileMime(r.name)),r.name)o=(o=r.name.replace(/\\/g,"/")).substr(o.lastIndexOf("/")+1);else if(this.type){var a=this.type.split("/")[0];o=e.guid((""!==a?a:"file")+"_"),t.extensions[this.type]&&(o+="."+t.extensions[this.type][0])}e.extend(this,{name:o||e.guid("file_"),relativePath:"",lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i})),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],(function(e,t,n,i,r,o,a,s,c){function l(n){var r,o=this;"string"==typeof n&&(n={drop_zone:n}),r={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},(n="object"==typeof n?i.extend({},r,n):r).container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=c.mimes2extList(n.accept)),a.call(o),i.extend(o,{uid:i.guid("uid_"),ruid:null,files:null,init:function(){o.bind("RuntimeInit",(function(e,t){o.ruid=t.uid,t.exec.call(o,"FileDrop","init",n),o.dispatchEvent("ready")})),o.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","dragenter","dragleave","drop","error"];return l.prototype=s.instance,l})),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],(function(e,t,n,i,r,o){function a(){function i(e,i){if(this.trigger("loadstart"),this.readyState===a.LOADING)return this.trigger("error",new n.DOMException(n.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(i instanceof r))return this.trigger("error",new n.DOMException(n.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=a.LOADING,i.isDetached()){var o=i.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=o;break;case"readAsDataURL":this.result="data:"+i.type+";base64,"+t.btoa(o)}this.readyState=a.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(i.ruid),this.exec("FileReader","read",e,i)}o.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){i.call(this,"readAsDataURL",e)},readAsText:function(e){i.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(s),this.bind("Error",(function(e,t){this.readyState=a.DONE,this.error=t}),999),this.bind("Load",(function(){this.readyState=a.DONE}),999)}var s=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=i.instance,a})),n("moxie/core/utils/Url",["moxie/core/utils/Basic"],(function(e){var t=function(n,i){var r,o=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],a=o.length,s={},c=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?(\[[\da-fA-F:]+\]|[^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(n||""),l=/^\/\/\w/.test(n);switch(e.typeOf(i)){case"undefined":i=t(document.location.href,!1);break;case"string":i=t(i,!1)}for(;a--;)c[a]&&(s[o[a]]=c[a]);if(r=!l&&!s.scheme,(l||r)&&(s.scheme=i.scheme),r){s.host=i.host,s.port=i.port;var u="";/^[^\/]/.test(s.path)&&(u=i.path,u=/\/[^\/]*\.[^\/]*$/.test(u)?u.replace(/\/[^\/]+$/,"/"):u.replace(/\/?$/,"/")),s.path=u+(s.path||"")}return s.port||(s.port={http:80,https:443}[s.scheme]||80),s.port=parseInt(s.port,10),s.path||(s.path="/"),delete s.source,s};return{parseUrl:t,resolveUrl:function(e){var n="object"==typeof e?e:t(e);return n.scheme+"://"+n.host+(n.port!=={http:80,https:443}[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},hasSameOrigin:function(e){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof e&&(e=t(e)),n(t())===n(e)}}})),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],(function(e,t,n){function i(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i})),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],(function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(r);case"readAsText":for(var o="",a=0,s=r.length;s>a;a++)o+=String.fromCharCode(r[a]);return o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return i.call(this,"readAsDataURL",e)},readAsText:function(e){return i.call(this,"readAsText",e)}})}})),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],(function(e,t,n){return function(){var e,i=[];t.extend(this,{append:function(r,o){var a=this,s=t.typeOf(o);o instanceof n?e={name:r,value:o}:"array"===s?(r+="[]",t.each(o,(function(e){a.append(r,e)}))):"object"===s?t.each(o,(function(e,t){a.append(r+"["+t+"]",e)})):"null"===s||"undefined"===s||"number"===s&&isNaN(o)?a.append(r,"false"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,(function(e){n(e.value,e.name)})),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}})),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],(function(e,t,n,i,r,o,a,s,c,l,u,f){function d(){this.uid=e.guid("uid_")}function h(){function n(e,t){return _.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?_[e]:x[e]:void(u.can("define_property")?_[e]=t:x[e]=t):void 0}function c(t){function i(){b&&(b.destroy(),b=null),s.dispatchEvent("loadend"),s=null}function r(r){b.bind("LoadStart",(function(e){n("readyState",h.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),O&&s.upload.dispatchEvent(e)})),b.bind("Progress",(function(e){n("readyState")!==h.LOADING&&(n("readyState",h.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)})),b.bind("UploadProgress",(function(e){O&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})})),b.bind("Load",(function(t){n("readyState",h.DONE),n("status",Number(r.exec.call(b,"XMLHttpRequest","getStatus")||0)),n("statusText",p[n("status")]||""),n("response",r.exec.call(b,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),P=r.exec.call(b,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),n("status")>0?(O&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(k=!0,s.dispatchEvent("error")),i()})),b.bind("Abort",(function(e){s.dispatchEvent(e),i()})),b.bind("Error",(function(e){k=!0,n("readyState",h.DONE),s.dispatchEvent("readystatechange"),D=!0,s.dispatchEvent(e),i()})),r.exec.call(b,"XMLHttpRequest","send",{url:A,method:v,async:R,user:y,password:w,headers:I,mimeType:S,encoding:C,responseType:s.responseType,withCredentials:s.withCredentials,options:N},t)}var s=this;(new Date).getTime(),b=new a,"string"==typeof N.required_caps&&(N.required_caps=o.parseCaps(N.required_caps)),N.required_caps=e.extend({},N.required_caps,{return_response_type:s.responseType}),t instanceof l&&(N.required_caps.send_multipart=!0),e.isEmptyObj(I)||(N.required_caps.send_custom_headers=!0),M||(N.required_caps.do_cors=!0),N.ruid?r(b.connectRuntime(N)):(b.bind("RuntimeInit",(function(e,t){r(t)})),b.bind("RuntimeError",(function(e,t){s.dispatchEvent("RuntimeError",t)})),b.connectRuntime(N))}function g(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText","")}var A,v,y,w,b,E,x=this,_={timeout:0,readyState:h.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},R=!0,I={},C=null,S=null,T=!1,B=!1,O=!1,D=!1,k=!1,M=!1,N={},P="";e.extend(this,_,{uid:e.guid("uid_"),upload:new d,open:function(o,a,s,c,l){var u;if(!o||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(o)||i.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(v=o.toUpperCase()),~e.inArray(v,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=i.utf8_encode(a),u=r.parseUrl(a),M=r.hasSameOrigin(u),A=r.resolveUrl(a),(c||l)&&!M)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(y=c||u.user,w=l||u.pass,!1===(R=s||!0)&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);T=!R,B=!1,I={},g.call(this),n("readyState",h.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,o){if(n("readyState")!==h.OPENED||B)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),!~e.inArray(r,["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"])&&!/^(proxy\-|sec\-)/.test(r)&&(I[r]?I[r]+=", "+o:I[r]=o,!0)},hasRequestHeader:function(e){return e&&I[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return P||""},getResponseHeader:function(t){return t=t.toLowerCase(),k||~e.inArray(t,["set-cookie","set-cookie2"])?null:P&&""!==P&&(E||(E={},e.each(P.split(/\r\n/),(function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),E[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})}))),E.hasOwnProperty(t))?E[t].header+": "+E[t].value:null},overrideMimeType:function(i){var r;if(~e.inArray(n("readyState"),[h.LOADING,h.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(i=r[1],r[2]&&r[2]),!f.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR)},send:function(n,r){if(N="string"===e.typeOf(r)?{ruid:r}:r||{},this.readyState!==h.OPENED||B)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)N.ruid=n.ruid,S=n.type||"application/octet-stream";else if(n instanceof l){if(n.hasBlob()){var o=n.getBlob();N.ruid=o.ruid,S=o.type||"application/octet-stream"}}else"string"==typeof n&&(C="UTF-8",S="text/plain;charset=UTF-8",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=N.required_caps&&N.required_caps.send_browser_cookies&&!M),O=!T&&this.upload.hasEventListener(),k=!1,D=!n,T||(B=!0),c.call(this,n)},abort:function(){if(k=!0,T=!1,~e.inArray(n("readyState"),[h.UNSENT,h.OPENED,h.DONE]))n("readyState",h.UNSENT);else{if(n("readyState",h.DONE),B=!1,!b)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);b.getRuntime().exec.call(b,"XMLHttpRequest","abort",D),D=!0}},destroy:function(){b&&("function"===e.typeOf(b.destroy)&&b.destroy(),b=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(m.concat(["readystatechange"])),this.upload.handleEventProps(m)}var p={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};d.prototype=n.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];return h.UNSENT=0,h.OPENED=1,h.HEADERS_RECEIVED=2,h.LOADING=3,h.DONE=4,h.prototype=n.instance,h})),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],(function(e,t,n,i){function r(){function i(){u=f=0,l=this.result=null}function o(t,n){var i=this;c=n,i.bind("TransportingProgress",(function(t){f=t.loaded,u>f&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&a.call(i)}),999),i.bind("TransportingComplete",(function(){f=u,i.state=r.DONE,l=null,i.result=c.exec.call(i,"Transporter","getAsBlob",t||"")}),999),i.state=r.BUSY,i.trigger("TransportingStarted"),a.call(i)}function a(){var e,n=u-f;d>n&&(d=n),e=t.btoa(l.substr(f,d)),c.exec.call(this,"Transporter","receive",e,u)}var s,c,l,u,f,d;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,n,r){var a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),d=r.chunk_size,i.call(this),l=t,u=t.length,"string"===e.typeOf(r)||r.ruid)o.call(a,n,this.connectRuntime(r));else{var c=function(e,t){a.unbind("RuntimeInit",c),o.call(a,n,t)};this.bind("RuntimeInit",c),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,c&&(c.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),i.call(e)},destroy:function(){this.unbindAll(),c=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r})),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],(function(e,t,n,i,r,o,a,s,c,l,u,f,d){function h(){function i(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(e){return this.trigger("error",e.code),!1}}function l(t){var i=e.typeOf(t);try{if(t instanceof h){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof u){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(i,["blob","file"]))l.call(this,new f(null,t),arguments[1]);else if("string"===i)"data:"===t.substr(0,5)?l.call(this,new u(null,{data:t}),arguments[1]):A.apply(this,arguments);else{if("node"!==i||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);l.call(this,t.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}function m(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)||n)}function g(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",(function(e,t){i(t)})),n&&"string"==typeof n.required_caps&&(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function A(e,t){var n,i=this;(n=new r).open("get",e),n.responseType="blob",n.onprogress=function(e){i.trigger(e)},n.onload=function(){g.call(i,n.response,!0)},n.onerror=function(e){i.trigger(e)},n.onloadend=function(){n.destroy()},n.bind("RuntimeError",(function(e,t){i.trigger("RuntimeError",t)})),n.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){l.apply(this,arguments)},resize:function(t){var i,r,o=this,a={x:0,y:0,width:o.width,height:o.height},s=e.extendIf({width:o.width,height:o.height,type:o.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!o.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(o.width>h.MAX_RESIZE_WIDTH||o.height>h.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(i=o.meta&&o.meta.tiff&&o.meta.tiff.Orientation||1,-1!==e.inArray(i,[5,6,7,8])){var c=s.width;s.width=s.height,s.height=c}if(s.crop){switch(r=Math.max(s.width/o.width,s.height/o.height),t.fit?(a.width=Math.min(Math.ceil(s.width/r),o.width),a.height=Math.min(Math.ceil(s.height/r),o.height),r=s.width/a.width):(a.width=Math.min(s.width,o.width),a.height=Math.min(s.height,o.height),r=1),"boolean"==typeof s.crop&&(s.crop="cc"),s.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":a.x=o.width-a.width,a.y=o.height-a.height;break;case"cb":case"center-bottom":a.x=Math.floor((o.width-a.width)/2),a.y=o.height-a.height;break;case"lb":case"left-bottom":a.x=0,a.y=o.height-a.height;break;case"lt":case"left-top":a.x=0,a.y=0;break;case"ct":case"center-top":a.x=Math.floor((o.width-a.width)/2),a.y=0;break;case"rt":case"right-top":a.x=o.width-a.width,a.y=0;break;case"rc":case"right-center":case"right-middle":a.x=o.width-a.width,a.y=Math.floor((o.height-a.height)/2);break;case"lc":case"left-center":case"left-middle":a.x=0,a.y=Math.floor((o.height-a.height)/2);break;case"cc":case"center-center":case"center-middle":default:a.x=Math.floor((o.width-a.width)/2),a.y=Math.floor((o.height-a.height)/2)}a.x=Math.max(a.x,0),a.y=Math.max(a.y,0)}else(r=Math.min(s.width/o.width,s.height/o.height))>1&&!s.fit&&(r=1);this.exec("Image","resize",a,r,s)}catch(e){o.trigger("error",e.code)}},downsize:function(t){var n,i={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,fit:!1,preserveHeaders:!0,resample:"default"};n="object"==typeof t?e.extend(i,t):e.extend(i,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(n)},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!c.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return this.exec("Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return d.atob(n.substring(n.indexOf("base64,")+7))},embed:function(i,r){function o(t,r){var o=this;if(c.can("create_canvas")){var u=o.getAsCanvas();if(u)return i.appendChild(u),u=null,o.destroy(),void l.trigger("embedded")}var f=o.getAsDataURL(t,r);if(!f)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(c.can("use_data_uri_of",f.length))i.innerHTML='<img src="'+f+'" width="'+o.width+'" height="'+o.height+'" alt="" />',o.destroy(),l.trigger("embedded");else{var h=new s;h.bind("TransportingComplete",(function(){a=l.connectRuntime(this.result.ruid),l.bind("Embedded",(function(){e.extend(a.getShimContainer().style,{top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"}),a=null}),999),a.exec.call(l,"ImageView","display",this.result.uid,width,height),o.destroy()})),h.transport(d.atob(f.substring(f.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:i})}}var a,l=this,u=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,fit:!0,resample:"nearest"},r);try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);this.width>h.MAX_RESIZE_WIDTH||(this.height,h.MAX_RESIZE_HEIGHT);var f=new h;return f.bind("Resize",(function(){o.call(this,u.type,u.quality)})),f.bind("Load",(function(){this.downsize(u)})),this.meta.thumb&&this.meta.thumb.width>=u.width&&this.meta.thumb.height>=u.height?f.load(this.meta.thumb.data):f.clone(this,!1),f}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.meta&&this.meta.thumb&&this.meta.thumb.data.destroy(),this.unbindAll()}}),this.handleEventProps(p),this.bind("Load Resize",(function(){return i.call(this)}),999)}var p=["progress","load","error","resize","embedded"];return h.MAX_RESIZE_WIDTH=8192,h.MAX_RESIZE_HEIGHT=8192,h.prototype=l.instance,h})),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],(function(e,t,n,r){var o="html5",a={};return n.addConstructor(o,(function(t){var s=this,c=n.capTest,l=n.capTrue,u=e.extend({access_binary:c(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return s.can("access_binary")&&!!a.Image},display_media:c((r.can("create_canvas")||r.can("use_data_uri_over32kb"))&&i("moxie/image/Image")),do_cors:c(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:c(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==r.browser||r.verComp(r.version,9,">"))}()),filter_by_extension:c(!("Chrome"===r.browser&&r.verComp(r.version,28,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<")||"Safari"===r.browser&&r.verComp(r.version,7,"<")||"Firefox"===r.browser&&r.verComp(r.version,37,"<"))),return_response_headers:l,return_response_type:function(e){return!("json"!==e||!window.JSON)||r.can("return_response_type",e)},return_status_code:l,report_upload_progress:c(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return s.can("access_binary")&&r.can("create_canvas")},select_file:function(){return r.can("use_fileinput")&&window.File},select_folder:function(){return s.can("select_file")&&("Chrome"===r.browser&&r.verComp(r.version,21,">=")||"Firefox"===r.browser&&r.verComp(r.version,42,">="))},select_multiple:function(){return!(!s.can("select_file")||"Safari"===r.browser&&"Windows"===r.os||"iOS"===r.os&&r.verComp(r.osVersion,"7.0.0",">")&&r.verComp(r.osVersion,"8.0.0","<"))},send_binary_string:c(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:c(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||s.can("send_binary_string")},slice_blob:c(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return s.can("slice_blob")&&s.can("send_multipart")},summon_file_dialog:function(){return s.can("select_file")&&!("Firefox"===r.browser&&r.verComp(r.version,4,"<")||"Opera"===r.browser&&r.verComp(r.version,12,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<"))},upload_filesize:l,use_http_method:l},arguments[2]);n.call(this,t,arguments[1]||o,u),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(s),e=s=null}}(this.destroy)}),e.extend(this.getShim(),a)})),a})),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],(function(e,t){return e.Blob=function(){function e(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))},this.destroy=function(){this.getRuntime().getShim().removeInstance(this.uid)}}})),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],(function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r="moxie_"+e.guid(),o=function(t,n,o){var a,s;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){for(var c=(a=i[t[r]][n]).length-1;c>=0&&(a[c].orig!==o&&a[c].key!==o||(t.removeEventListener?t.removeEventListener(n,a[c].func,!1):t.detachEvent&&t.detachEvent("on"+n,a[c].func),a[c].orig=null,a[c].func=null,a.splice(c,1),o===s));c--);if(a.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(e){t[r]=s}}}};return{addEvent:function(o,a,s,c){var l,u;a=a.toLowerCase(),o.addEventListener?(l=s,o.addEventListener(a,l,!1)):o.attachEvent&&(l=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},o.attachEvent("on"+a,l)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),(u=i[o[r]]).hasOwnProperty(a)||(u[a]=[]),u[a].push({func:l,orig:s,key:c})},removeEvent:o,removeAllEvents:function(t,n){t&&t[r]&&e.each(i[t[r]],(function(e,i){o(t,i,n)}))}}})),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],(function(e,t,n,i,r,o,a){return e.FileInput=function(){var e,s;n.extend(this,{init:function(c){var l,u,f,d,h,p,m=this,g=m.getRuntime();e=c,f=o.extList2mimes(e.accept,g.can("filter_by_extension")),(u=g.getShimContainer()).innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(f?' accept="'+f.join(",")+'"':"")+" />",l=i.get(g.uid),n.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=i.get(e.browse_button),s=i.getStyle(d,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===i.getStyle(d,"position")&&(d.style.position="relative"),r.addEvent(d,"click",(function(e){var t=i.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()}),m.uid),m.bind("Refresh",(function(){h=parseInt(s,10)||1,i.get(e.browse_button).style.zIndex=h,this.getRuntime().getShimContainer().style.zIndex=h-1}))),p=g.can("summon_file_dialog")?d:u,r.addEvent(p,"mouseover",(function(){m.trigger("mouseenter")}),m.uid),r.addEvent(p,"mouseout",(function(){m.trigger("mouseleave")}),m.uid),r.addEvent(p,"mousedown",(function(){m.trigger("mousedown")}),m.uid),r.addEvent(i.get(e.container),"mouseup",(function(){m.trigger("mouseup")}),m.uid),(g.can("summon_file_dialog")?l:d).setAttribute("tabindex",-1),l.onchange=function i(){if(m.files=[],n.each(this.files,(function(n){var i="";return!(!e.directory||"."!=n.name)||(n.webkitRelativePath&&(i="/"+n.webkitRelativePath.replace(/^\//,"")),(n=new t(g.uid,n)).relativePath=i,void m.files.push(n))})),"IE"!==a.browser&&"IEMobile"!==a.browser)this.value="";else{var r=this.cloneNode(!0);this.parentNode.replaceChild(r,this),r.onchange=i}m.files.length&&m.trigger("change")},m.trigger({type:"ready",async:!0}),u=null},setOption:function(e,t){var n=this.getRuntime(),r=i.get(n.uid);switch(e){case"accept":if(t){var a=t.mimes||o.extList2mimes(t,n.can("filter_by_extension"));r.setAttribute("accept",a.join(","))}else r.removeAttribute("accept");break;case"directory":t&&n.can("select_folder")?(r.setAttribute("directory",""),r.setAttribute("webkitdirectory","")):(r.removeAttribute("directory"),r.removeAttribute("webkitdirectory"));break;case"multiple":t&&n.can("select_multiple")?r.setAttribute("multiple",""):r.removeAttribute("multiple")}},disable:function(e){var t,n=this.getRuntime();(t=i.get(n.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),n=t.getShim(),o=t.getShimContainer(),a=e&&i.get(e.container),c=e&&i.get(e.browse_button);a&&r.removeAllEvents(a,this.uid),c&&(r.removeAllEvents(c,this.uid),c.style.zIndex=s),o&&(r.removeAllEvents(o,this.uid),o.innerHTML=""),n.removeInstance(this.uid),e=o=a=c=n=null}})}})),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],(function(e,t,n,i,r,o){return e.FileDrop=function(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=n.toArray(e.dataTransfer.types||[]);return-1!==n.inArray("Files",t)||-1!==n.inArray("public.file-url",t)||-1!==n.inArray("application/x-moz-file",t)}function a(e,n){if(s(e)){var i=new t(u,e);i.relativePath=n||"",f.push(i)}}function s(e){if(!d.length)return!0;var t=o.getFileExtension(e.name);return!t||-1!==n.inArray(t,d)}function c(e,t){var i=[];n.each(e,(function(e){i.push((function(t){!function(e,t){e.isFile?e.file((function(n){a(n,e.fullPath),t()}),(function(){t()})):e.isDirectory?function(e,t){var n=[],i=e.createReader();!function e(t){i.readEntries((function(i){i.length?([].push.apply(n,i),e(t)):t()}),t)}((function(){c(n,t)}))}(e,t):t()}(e,t)}))})),n.inSeries(i,(function(){t()}))}var l,u,f=[],d=[];n.extend(this,{init:function(t){var i,o=this;l=t,u=o.ruid,d=function(e){for(var t=[],i=0;i<e.length;i++)[].push.apply(t,e[i].extensions.split(/\s*,\s*/));return-1===n.inArray("*",t)?t:[]}(l.accept),i=l.container,r.addEvent(i,"dragover",(function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")}),o.uid),r.addEvent(i,"drop",(function(t){e(t)&&(t.preventDefault(),f=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?function(e,t){var i=[];n.each(e,(function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?a(e.getAsFile(),t.fullPath):i.push(t))})),i.length?c(i,t):t()}(t.dataTransfer.items,(function(){o.files=f,o.trigger("drop")})):(n.each(t.dataTransfer.files,(function(e){a(e)})),o.files=f,o.trigger("drop")))}),o.uid),r.addEvent(i,"dragenter",(function(){o.trigger("dragenter")}),o.uid),r.addEvent(i,"dragleave",(function(){o.trigger("dragleave")}),o.uid)},destroy:function(){r.removeAllEvents(l&&i.get(l.container),this.uid),u=f=d=l=null,this.getRuntime().getShim().removeInstance(this.uid)}})}})),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],(function(e,t,n){return e.FileReader=function(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var i,r=!1;n.extend(this,{read:function(t,o){var a=this;a.result="",(i=new window.FileReader).addEventListener("progress",(function(e){a.trigger(e)})),i.addEventListener("load",(function(t){a.result=r?e(i.result):i.result,a.trigger(t)})),i.addEventListener("error",(function(e){a.trigger(e,i.error)})),i.addEventListener("loadend",(function(e){i=null,a.trigger(e)})),"function"===n.typeOf(i[t])?(r=!1,i[t](o.getSource())):"readAsBinaryString"===t&&(r=!0,i.readAsDataURL(o.getSource()))},abort:function(){i&&i.abort()},destroy:function(){i=null,this.getRuntime().getShim().removeInstance(this.uid)}})}})),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],(function(e,t,n,i,r,o,a,s,c){return e.XMLHttpRequest=function(){function e(e,t){var n,i,r=this;n=t.getBlob().getSource(),(i=new window.FileReader).onload=function(){t.append(t.getBlobName(),new o(null,{type:n.type,data:i.result})),d.send.call(r,e,t)},i.readAsBinaryString(n)}function l(e){var t="----moxieboundary"+(new Date).getTime(),n="--",i="\r\n",r="";if(!this.getRuntime().can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return u.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each((function(e,a){r+=e instanceof o?n+t+i+'Content-Disposition: form-data; name="'+a+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name="'+a+'"'+i+i+unescape(encodeURIComponent(e))+i})),r+=n+t+n+i}var u,f,d=this;t.extend(this,{send:function(n,r){var s=this,d="Mozilla"===c.browser&&c.verComp(c.version,4,">=")&&c.verComp(c.version,7,"<"),h="Android Browser"===c.browser,p=!1;if(f=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),(u=!window.XMLHttpRequest||"IE"===c.browser&&c.verComp(c.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest).open(n.method,n.url,n.async,n.user,n.password),r instanceof o)r.isDetached()&&(p=!0),r=r.getSource();else if(r instanceof a){if(r.hasBlob())if(r.getBlob().isDetached())r=l.call(s,r),p=!0;else if((d||h)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return void e.call(s,n,r);if(r instanceof a){var m=new window.FormData;r.each((function(e,t){e instanceof o?m.append(t,e.getSource()):m.append(t,e)})),r=m}}u.upload?(n.withCredentials&&(u.withCredentials=!0),u.addEventListener("load",(function(e){s.trigger(e)})),u.addEventListener("error",(function(e){s.trigger(e)})),u.addEventListener("progress",(function(e){s.trigger(e)})),u.upload.addEventListener("progress",(function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})}))):u.onreadystatechange=function(){switch(u.readyState){case 1:case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=u.getResponseHeader("Content-Length")||0),u.responseText&&(t=u.responseText.length)}catch(n){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:u.onreadystatechange=function(){};try{if(u.status>=200&&u.status<400){s.trigger("load");break}}catch(e){}s.trigger("error")}},t.isEmptyObj(n.headers)||t.each(n.headers,(function(e,t){u.setRequestHeader(t,e)})),""!==n.responseType&&"responseType"in u&&(u.responseType="json"!==n.responseType||c.can("return_response_type","json")?n.responseType:"text"),p?u.sendAsBinary?u.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);u.send(e.buffer)}():u.send(r),s.trigger("loadstart")},getStatus:function(){try{if(u)return u.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var i=new r(t.uid,u.response),o=u.getResponseHeader("Content-Disposition");if(o){var a=o.match(/filename=([\'\"'])([^\1]+)\1/);a&&(f=a[2])}return i.name=f,i.type||(i.type=n.getFileMime(f)),i;case"json":return c.can("return_response_type","json")?u.response:200===u.status&&window.JSON?JSON.parse(u.responseText):null;case"document":return function(e){var t=e.responseXML,n=e.responseText;return"IE"===c.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===c.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}(u);default:return""!==u.responseText?u.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return u.getAllResponseHeaders()}catch(e){}return""},abort:function(){u&&u.abort()},destroy:function(){d=f=null,this.getRuntime().getShim().removeInstance(this.uid)}})}})),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],(function(e){function t(e){e instanceof ArrayBuffer?n.apply(this,arguments):i.apply(this,arguments)}function n(t){var n=new DataView(t);e.extend(this,{readByteAt:function(e){return n.getUint8(e)},writeByteAt:function(e,t){n.setUint8(e,t)},SEGMENT:function(e,i,r){switch(arguments.length){case 2:return t.slice(e,e+i);case 1:return t.slice(e);case 3:if(null===r&&(r=new ArrayBuffer),r instanceof ArrayBuffer){var o=new Uint8Array(this.length()-i+r.byteLength);e>0&&o.set(new Uint8Array(t.slice(0,e)),0),o.set(new Uint8Array(r),e),o.set(new Uint8Array(t.slice(e+i)),e+r.byteLength),this.clear(),t=o.buffer,n=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){n=t=null}})}function i(t){function n(e,n,i){i=3===arguments.length?i:t.length-n-1,t=t.substr(0,n)+e+t.substr(i+n)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){n(String.fromCharCode(t),e,1)},SEGMENT:function(e,i,r){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,i);case 3:n(null!==r?r:"",e,i);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var n,i,r;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(i=this.littleEndian?0:-8*(t-1),r=0,n=0;t>r;r++)n|=this.readByteAt(e+r)<<Math.abs(i+8*r);return n},write:function(e,t,n){var i,r;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(i=this.littleEndian?0:-8*(n-1),r=0;n>r;r++)this.writeByteAt(e+r,255&t>>Math.abs(i+8*r))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,n){for(var i=[],r=0;n>r;r++)i[r]=this[e](t+r);return i}}),t})),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],(function(e,t){return function n(i){var r,o,a,s=[],c=0;if(65496!==(r=new e(i)).SHORT(0))throw r.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(o=2;o<=r.length();)if((a=r.SHORT(o))>=65488&&65495>=a)o+=2;else{if(65498===a||65497===a)break;c=r.SHORT(o+2)+2,a>=65505&&65519>=a&&s.push({hex:a,name:"APP"+(15&a),start:o,length:c,segment:r.SEGMENT(o,c)}),o+=c}return r.clear(),{headers:s,restore:function(t){var n,i,r;for(r=new e(t),o=65504==r.SHORT(2)?4+r.SHORT(4):2,i=0,n=s.length;n>i;i++)r.SEGMENT(o,0,s[i].segment),o+=s[i].length;return t=r.SEGMENT(),r.clear(),t},strip:function(t){var i,r,o,a;for(r=(o=new n(t)).headers,o.purge(),i=new e(t),a=r.length;a--;)i.SEGMENT(r[a].start,r[a].length,"");return t=i.SEGMENT(),i.clear(),t},get:function(e){for(var t=[],n=0,i=s.length;i>n;n++)s[n].name===e.toUpperCase()&&t.push(s[n].segment);return t},set:function(e,t){var n,i,r,o=[];for("string"==typeof t?o.push(t):o=t,n=i=0,r=s.length;r>n&&(s[n].name===e.toUpperCase()&&(s[n].segment=o[i],s[n].length=o[i].length,i++),!(i>=o.length));n++);},purge:function(){this.headers=s=[]}}}})),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],(function(e,n,i){function r(o){function a(n,r){var o,a,s,c,l,d,h,p,m=this,g=[],A={},v={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},y={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(o=m.SHORT(n),a=0;o>a;a++)if(g=[],h=n+2+12*a,(s=r[m.SHORT(h)])!==t){if(c=v[m.SHORT(h+=2)],l=m.LONG(h+=2),!(d=y[c]))throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(h+=4,d*l>4&&(h=m.LONG(h)+f.tiffHeader),h+d*l>=this.length())throw new i.ImageError(i.ImageError.INVALID_META_ERR);"ASCII"!==c?(g=m.asArray(c,h,l),p=1==l?g[0]:g,A[s]=u.hasOwnProperty(s)&&"object"!=typeof p?u[s][p]:p):A[s]=e.trim(m.STRING(h,l).replace(/\0$/,""))}return A}function s(e,t,n){var i,r,o,a=0;if("string"==typeof t){var s=l[e.toLowerCase()];for(var c in s)if(s[c]===t){t=c;break}}i=f[e.toLowerCase()+"IFD"],r=this.SHORT(i);for(var u=0;r>u;u++)if(o=i+12*u+2,this.SHORT(o)==t){a=o+8;break}if(!a)return!1;try{this.write(a,n,4)}catch(e){return!1}return!0}var c,l,u,f,d,h;if(n.call(this,o),l={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},u={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},d=(f={tiffHeader:10}).tiffHeader,c={clear:this.clear},e.extend(this,{read:function(){try{return r.prototype.read.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},write:function(){try{return r.prototype.write.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return h||null},EXIF:function(){var t=null;if(f.exifIFD){try{t=a.call(this,f.exifIFD,l.exif)}catch(e){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,i="";n<t.ExifVersion.length;n++)i+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=i}}return t},GPS:function(){var t=null;if(f.gpsIFD){try{t=a.call(this,f.gpsIFD,l.gps)}catch(e){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(f.IFD1)try{var e=a.call(this,f.IFD1,l.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(f.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(e){}return null},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&s.call(this,"exif",e,t)},clear:function(){c.clear(),o=l=u=h=f=c=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(d),42!==this.SHORT(d+=2))throw new i.ImageError(i.ImageError.INVALID_META_ERR);f.IFD0=f.tiffHeader+this.LONG(d+=2),"ExifIFDPointer"in(h=a.call(this,f.IFD0,l.tiff))&&(f.exifIFD=f.tiffHeader+h.ExifIFDPointer,delete h.ExifIFDPointer),"GPSInfoIFDPointer"in h&&(f.gpsIFD=f.tiffHeader+h.GPSInfoIFDPointer,delete h.GPSInfoIFDPointer),e.isEmptyObj(h)&&(h=null);var p=this.LONG(f.IFD0+12*this.SHORT(f.IFD0)+2);p&&(f.IFD1=f.tiffHeader+p)}return r.prototype=n.prototype,r})),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],(function(e,t,n,i,r){return function(o){function a(e){var t,n,i=0;for(e||(e=c);i<=e.length();){if((t=e.SHORT(i+=2))>=65472&&65475>=t)return i+=5,{height:e.SHORT(i),width:e.SHORT(i+=2)};n=e.SHORT(i+=2),i+=n-2}return null}function s(){u&&l&&c&&(u.clear(),l.purge(),c.clear(),f=l=u=c=null)}var c,l,u,f;if(65496!==(c=new i(o)).SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(o);try{u=new r(l.get("app1")[0])}catch(e){}f=a.call(this),e.extend(this,{type:"image/jpeg",size:c.length(),width:f&&f.width||0,height:f&&f.height||0,setExif:function(t,n){return!!u&&("object"===e.typeOf(t)?e.each(t,(function(e,t){u.setExif(t,e)})):u.setExif(t,n),void l.set("app1",u.SEGMENT()))},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):l.restore(o)},stripHeaders:function(e){return l.strip(e)},purge:function(){s.call(this)}}),u&&(this.meta={tiff:u.TIFF(),exif:u.EXIF(),gps:u.GPS(),thumb:function(){var e,t,n=u.thumb();return n&&(t=a(e=new i(n)),e.clear(),t)?(t.data=n,t):null}()})}})),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],(function(e,t,n){return function(i){function r(){a&&(a.clear(),i=s=a=null)}function o(e){var t;return{length:t=a.LONG(e),type:a.STRING(e+=4,4),start:e+=4,CRC:a.LONG(e+t)}}var a,s;a=new n(i),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=a.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),s=function(){var e,t;return"IHDR"==(e=o.call(this,8)).type?(t=e.start,{width:a.LONG(t),height:a.LONG(t+=4)}):null}.call(this),t.extend(this,{type:"image/png",size:a.length(),width:s.width,height:s.height,purge:function(){r.call(this)}}),r.call(this)}})),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],(function(e,t,n,i){return function(r){var o,a=[n,i];o=function(){for(var e=0;e<a.length;e++)try{return new a[e](r)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){r=null}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}})),n("moxie/runtime/html5/image/ResizerCanvas",[],(function(){return{scale:function e(t,n,i){var r=t.width>t.height?"width":"height",o=Math.round(t[r]*n),a=!1;"nearest"!==i&&(.5>n||n>2)&&(n=.5>n?.5:2,a=!0);var s=function(e,t){var n=e.width,i=e.height,r=Math.round(n*t),o=Math.round(i*t),a=document.createElement("canvas");return a.width=r,a.height=o,a.getContext("2d").drawImage(e,0,0,n,i,0,0,r,o),e=null,a}(t,n);return a?e(s,o/s[r],i):s}}})),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],(function(e,t,n,i,r,o,a,s,c){return e.Image=function(){function e(){if(!A&&!m)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return A||m}function l(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:((A=document.createElement("canvas")).width=t.width,A.height=t.height,A.getContext("2d").drawImage(t,0,0),A)}function u(e){return i.atob(e.substring(e.indexOf("base64,")+7))}function f(e){var t=this;(m=new Image).onerror=function(){p.call(this),t.trigger("error",n.ImageError.WRONG_FORMAT)},m.onload=function(){t.trigger("load")},m.src="data:"==e.substr(0,5)?e:function(e,t){return"data:"+(t||"")+";base64,"+i.btoa(e)}(e,y.type)}function d(e,t){var i,r=this;return window.FileReader?((i=new FileReader).onload=function(){t.call(r,this.result)},i.onerror=function(){r.trigger("error",n.ImageError.WRONG_FORMAT)},void i.readAsDataURL(e)):t.call(this,e.getAsDataURL())}function h(e,n){var i=Math.PI/180,r=document.createElement("canvas"),o=r.getContext("2d"),a=e.width,s=e.height;switch(t.inArray(n,[5,6,7,8])>-1?(r.width=s,r.height=a):(r.width=a,r.height=s),n){case 2:o.translate(a,0),o.scale(-1,1);break;case 3:o.translate(a,s),o.rotate(180*i);break;case 4:o.translate(0,s),o.scale(1,-1);break;case 5:o.rotate(90*i),o.scale(1,-1);break;case 6:o.rotate(90*i),o.translate(0,-s);break;case 7:o.rotate(90*i),o.translate(a,-s),o.scale(-1,1);break;case 8:o.rotate(-90*i),o.translate(-a,0)}return o.drawImage(e,0,0,a,s),r}function p(){g&&(g.purge(),g=null),v=m=A=y=null,b=!1}var m,g,A,v,y,w=this,b=!1,E=!0;t.extend(this,{loadFromBlob:function(e){var t=this.getRuntime(),i=!(arguments.length>1)||arguments[1];if(!t.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return y=e,e.isDetached()?(v=e.getSource(),void f.call(this,v)):void d.call(this,e.getSource(),(function(e){i&&(v=u(e)),f.call(this,e)}))},loadFromImage:function(e,t){this.meta=e.meta,y=new o(null,{name:e.name,size:e.size,type:e.type}),f.call(this,t?v=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,n=this.getRuntime();return!g&&v&&n.can("access_image_binary")&&(g=new a(v)),t={width:e().width||0,height:e().height||0,type:y.type||c.getFileMime(y.name),size:v&&v.length||y.size||0,name:y.name||"",meta:null},E&&(t.meta=g&&g.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof r||(t.meta.thumb.data=new r(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,n,i){var r=document.createElement("canvas");if(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,r.width,r.height),A=s.scale(r,n),!(E=i.preserveHeaders)){var o=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;A=h(A,o)}this.width=A.width,this.height=A.height,b=!0,this.trigger("Resize")},getAsCanvas:function(){return A||(A=l()),A.id=this.uid+"_canvas",A},getAsBlob:function(e,t){return e!==this.type?(b=!0,new o(null,{name:y.name||"",type:e,data:w.getAsDataURL(e,t)})):new o(null,{name:y.name||"",type:e,data:w.getAsBinaryString(e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!b)return m.src;if(l(),"image/jpeg"!==e)return A.toDataURL("image/png");try{return A.toDataURL("image/jpeg",t/100)}catch(e){return A.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!b)return v||(v=u(w.getAsDataURL(e,t))),v;if("image/jpeg"!==e)v=u(w.getAsDataURL(e,t));else{var n;t||(t=90),l();try{n=A.toDataURL("image/jpeg",t/100)}catch(e){n=A.toDataURL("image/jpeg")}v=u(n),g&&(v=g.stripHeaders(v),E&&(g.meta&&g.meta.exif&&g.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),v=g.writeHeaders(v)),g.purge(),g=null)}return b=!1,v},destroy:function(){w=null,p.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}})),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],(function(e,t,n,r,o){function a(e){var i=n.get(e);i&&"OBJECT"==i.nodeName&&("IE"===t.browser?(i.style.display="none",function t(){4==i.readyState?function(e){var t=n.get(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}(e):setTimeout(t,10)}()):i.parentNode.removeChild(i))}var s="flash",c={};return o.addConstructor(s,(function(l){var u,f=this;l=e.extend({swf_url:t.swf_url},l),o.call(this,l,s,{access_binary:function(e){return e&&"browser"===f.mode},access_image_binary:function(e){return e&&"browser"===f.mode},display_media:o.capTest(i("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===f.mode},resize_image:o.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!e.arrayDiff(t,["","text","document"])||"browser"===f.mode},return_status_code:function(t){return"browser"===f.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:function(e){return e&&"browser"===f.mode},send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"browser"===f.mode},send_multipart:o.capTrue,slice_blob:function(e){return e&&"browser"===f.mode},stream_upload:function(e){return e&&"browser"===f.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===f.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),function(){var e;try{e=(e=navigator.plugins["Shockwave Flash"]).description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,n)},init:function(){var n,i,a;a=this.getShimContainer(),e.extend(a.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+l.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+l.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+o.getGlobalEventTarget()+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(i=document.createElement("div"),a.appendChild(i),i.outerHTML=n,i=a=null):a.innerHTML=n,u=setTimeout((function(){f&&!f.initialized&&f.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))}),5e3)},destroy:function(e){return function(){a(f.uid),e.call(f),clearTimeout(u),l=u=e=f=null}}(this.destroy)},c)})),c})),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],(function(e,t){var n={slice:function(e,n,i,r){var o=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),(e=o.shimExec.call(this,"Blob","slice",n,i,r||""))&&(e=new t(o.uid,e)),e}};return e.Blob=n})),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],(function(e,t,n,i){var r={init:function(e){var r=this,o=this.getRuntime(),a=n.get(e.browse_button);a&&(a.setAttribute("tabindex",-1),a=null),this.bind("Change",(function(){var e=o.shimExec.call(r,"FileInput","getFiles");r.files=[],i.each(e,(function(e){r.files.push(new t(o.uid,e))}))}),999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=r})),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],(function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i=this;return i.result="","readAsDataURL"===e&&(i.result="data:"+(t.type||"")+";base64,"),i.bind("Progress",(function(t,r){r&&(i.result+=n(r,e))}),999),i.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=i})),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],(function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i;return(i=this.getRuntime().shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i})),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],(function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,"Transporter","getAsBlob",e);return i?new t(n.uid,i):null}};return e.Transporter=n})),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],(function(e,t,n,i,r,o,a,s){var c={send:function(e,i){function r(){e.transport=f.mode,f.shimExec.call(u,"XMLHttpRequest","send",e,i)}function o(e,t){f.shimExec.call(u,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function c(e,t){var n=new s;n.bind("TransportingComplete",(function(){t(this.result)})),n.transport(e.getSource(),e.type,{ruid:f.uid})}var l,u=this,f=u.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,(function(e,t){f.shimExec.call(u,"XMLHttpRequest","setRequestHeader",t,e.toString())})),i instanceof a)if(i.each((function(e,t){e instanceof n?l=t:f.shimExec.call(u,"XMLHttpRequest","append",t,e)})),i.hasBlob()){var d=i.getBlob();d.isDetached()?c(d,(function(e){d.destroy(),o(l,e)})):o(l,d)}else i=null,r();else i instanceof n?i.isDetached()?c(i,(function(e){i.destroy(),i=e.uid,r()})):(i=i.uid,r()):r()},getResponse:function(e){var n,o,a=this.getRuntime();if(o=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(o=new i(a.uid,o),"blob"===e)return o;try{if(n=new r,~t.inArray(e,["","text"]))return n.readAsText(o);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(o))}finally{o.destroy()}}return null},abort:function(){this.getRuntime().shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=c})),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],(function(e,t,n,i,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(i,"Image","loadFromBlob",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var o=new n;o.bind("TransportingComplete",(function(){t(o.result.getSource())})),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){return this.getRuntime().shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return t.meta&&t.meta.thumb&&t.meta.thumb.data&&!(e.meta.thumb.data instanceof i)&&(t.meta.thumb.data=new i(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,"Image","getAsBlob",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments);return t?(new r).readAsDataURL(t):null}};return e.Image=o})),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],(function(e,t,n,r,o){var a="silverlight",s={};return o.addConstructor(a,(function(c){var l,u=this;c=e.extend({xap_url:t.xap_url},c),o.call(this,c,a,{access_binary:o.capTrue,access_image_binary:o.capTrue,display_media:o.capTest(i("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:o.capTrue,resize_image:o.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:o.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:o.capTrue,slice_blob:o.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:o.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),function(e){var t,n,i,r,o,a=!1,s=0;try{try{new ActiveXObject("AgControl.AgControl").IsVersionSupported(e)&&(a=!0)}catch(l){var c=navigator.plugins["Silverlight Plug-In"];if(c){for("1.0.30226.2"===(t=c.description)&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do{r=parseInt(i[s],10),o=parseInt(n[s],10),s++}while(s<i.length&&r===o);o>=r&&!isNaN(r)&&(a=!0)}}}catch(e){a=!1}return a}("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,n)},init:function(){this.getShimContainer().innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+c.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+o.getGlobalEventTarget()+'"/></object>',l=setTimeout((function(){u&&!u.initialized&&u.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))}),"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(l),c=l=e=u=null}}(this.destroy)},s)})),s})),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],(function(e,t,n){return e.Blob=t.extend({},n)})),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],(function(e,t,n,i){function r(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}var o={init:function(e){var o=this,a=this.getRuntime(),s=n.get(e.browse_button);s&&(s.setAttribute("tabindex",-1),s=null),this.bind("Change",(function(){var e=a.shimExec.call(o,"FileInput","getFiles");o.files=[],i.each(e,(function(e){o.files.push(new t(a.uid,e))}))}),999),a.shimExec.call(this,"FileInput","init",r(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=r(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=o})),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],(function(e,t,n){var i={init:function(){var e,i=this,r=i.getRuntime();return e=r.getShimContainer(),n.addEvent(e,"dragover",(function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),i.uid),n.addEvent(e,"dragenter",(function(e){e.preventDefault(),t.get(r.uid).dragEnter(e)&&e.stopPropagation()}),i.uid),n.addEvent(e,"drop",(function(e){e.preventDefault(),t.get(r.uid).dragDrop(e)&&e.stopPropagation()}),i.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=i})),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],(function(e,t,n){return e.FileReader=t.extend({},n)})),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],(function(e,t,n){return e.FileReaderSync=t.extend({},n)})),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],(function(e,t,n){return e.Transporter=t.extend({},n)})),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],(function(e,t,n){return e.XMLHttpRequest=t.extend({},n)})),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],(function(e,t,n,i){return e.Image=t.extend({},i,{getInfo:function(){var e=this.getRuntime(),i={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&(t.each(["tiff","exif","gps","thumb"],(function(e){var t,n,o,a,s=r.meta[e];if(s&&s.keys)for(i.meta[e]={},n=0,o=s.keys.length;o>n;n++)(a=s[t=s.keys[n]])&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),i.meta[e][t]=a)})),i.meta&&i.meta.thumb&&i.meta.thumb.data&&!(e.meta.thumb.data instanceof n)&&(i.meta.thumb.data=new n(e.uid,i.meta.thumb.data))),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i},resize:function(e,t,n){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,n.preserveHeaders,n.resample)}})})),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],(function(e,t,n,r){var o="html4",a={};return n.addConstructor(o,(function(t){var s=this,c=n.capTest,l=n.capTrue;n.call(this,t,o,{access_binary:c(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:c((r.can("create_canvas")||r.can("use_data_uri_over32kb"))&&i("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:c(!("Chrome"===r.browser&&r.verComp(r.version,28,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<")||"Safari"===r.browser&&r.verComp(r.version,7,"<")||"Firefox"===r.browser&&r.verComp(r.version,37,"<"))),resize_image:function(){return a.Image&&s.can("access_binary")&&r.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return r.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return s.can("select_file")},summon_file_dialog:function(){return s.can("select_file")&&!("Firefox"===r.browser&&r.verComp(r.version,4,"<")||"Opera"===r.browser&&r.verComp(r.version,12,"<")||"IE"===r.browser&&r.verComp(r.version,10,"<"))},upload_filesize:l,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(s),e=s=null}}(this.destroy)}),e.extend(this.getShim(),a)})),a})),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],(function(e,t,n,i,r,o,a){return e.FileInput=function(){function e(){var o,l,f,d,h,p,m=this,g=m.getRuntime();p=n.guid("uid_"),o=g.getShimContainer(),s&&(f=i.get(s+"_form"))&&(n.extend(f.style,{top:"100%"}),f.firstChild.setAttribute("tabindex",-1)),(d=document.createElement("form")).setAttribute("id",p+"_form"),d.setAttribute("method","post"),d.setAttribute("enctype","multipart/form-data"),d.setAttribute("encoding","multipart/form-data"),n.extend(d.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),(h=document.createElement("input")).setAttribute("id",p),h.setAttribute("type","file"),h.setAttribute("accept",u.join(",")),g.can("summon_file_dialog")&&h.setAttribute("tabindex",-1),n.extend(h.style,{fontSize:"999px",opacity:0}),d.appendChild(h),o.appendChild(d),n.extend(h.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.verComp(a.version,10,"<")&&n.extend(h.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),h.onchange=function(){var n;this.value&&(n=this.files?this.files[0]:{name:this.value},n=new t(g.uid,n),this.onchange=function(){},e.call(m),m.files=[n],h.setAttribute("id",n.uid),d.setAttribute("id",n.uid+"_form"),m.trigger("change"),h=d=null)},g.can("summon_file_dialog")&&(l=i.get(c.browse_button),r.removeEvent(l,"click",m.uid),r.addEvent(l,"click",(function(e){h&&!h.disabled&&h.click(),e.preventDefault()}),m.uid)),s=p,o=f=l=null}var s,c,l,u=[];n.extend(this,{init:function(t){var n,a=this,s=a.getRuntime();c=t,u=o.extList2mimes(t.accept,s.can("filter_by_extension")),n=s.getShimContainer(),function(){var e,o,u;e=i.get(t.browse_button),l=i.getStyle(e,"z-index")||"auto",s.can("summon_file_dialog")?("static"===i.getStyle(e,"position")&&(e.style.position="relative"),a.bind("Refresh",(function(){o=parseInt(l,10)||1,i.get(c.browse_button).style.zIndex=o,this.getRuntime().getShimContainer().style.zIndex=o-1}))):e.setAttribute("tabindex",-1),u=s.can("summon_file_dialog")?e:n,r.addEvent(u,"mouseover",(function(){a.trigger("mouseenter")}),a.uid),r.addEvent(u,"mouseout",(function(){a.trigger("mouseleave")}),a.uid),r.addEvent(u,"mousedown",(function(){a.trigger("mousedown")}),a.uid),r.addEvent(i.get(t.container),"mouseup",(function(){a.trigger("mouseup")}),a.uid),e=null}(),e.call(this),n=null,a.trigger({type:"ready",async:!0})},setOption:function(e,t){var n,r=this.getRuntime();"accept"==e&&(u=t.mimes||o.extList2mimes(t,r.can("filter_by_extension"))),(n=i.get(s))&&n.setAttribute("accept",u.join(","))},disable:function(e){var t;(t=i.get(s))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),n=e.getShimContainer(),o=c&&i.get(c.container),a=c&&i.get(c.browse_button);o&&r.removeAllEvents(o,this.uid),a&&(r.removeAllEvents(a,this.uid),a.style.zIndex=l),n&&(r.removeAllEvents(n,this.uid),n.innerHTML=""),t.removeInstance(this.uid),s=u=c=n=o=a=t=null}})}})),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],(function(e,t){return e.FileReader=t})),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],(function(e,t,n,i,r,o,a,s){return e.XMLHttpRequest=function(){function e(e){var t,i,r,a,s=this,c=!1;if(u){if(t=u.id.replace(/_iframe$/,""),i=n.get(t+"_form")){for(a=(r=i.getElementsByTagName("input")).length;a--;)switch(r[a].getAttribute("type")){case"hidden":r[a].parentNode.removeChild(r[a]);break;case"file":c=!0}r=[],c||i.parentNode.removeChild(i),i=null}setTimeout((function(){o.removeEvent(u,"load",s.uid),u.parentNode&&u.parentNode.removeChild(u);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()}),1)}}var c,l,u;t.extend(this,{send:function(f,d){var h,p,m,g,A=this,v=A.getRuntime();if(c=l=null,d instanceof s&&d.hasBlob()){if(g=d.getBlob(),h=g.uid,m=n.get(h),!(p=n.get(h+"_form")))throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else h=t.guid("uid_"),(p=document.createElement("form")).setAttribute("id",h+"_form"),p.setAttribute("method",f.method),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),v.getShimContainer().appendChild(p);p.setAttribute("target",h+"_iframe"),d instanceof s&&d.each((function(e,n){if(e instanceof a)m&&m.setAttribute("name",n);else{var i=document.createElement("input");t.extend(i,{type:"hidden",name:n,value:e}),m?p.insertBefore(i,m):p.appendChild(i)}})),p.setAttribute("action",f.url),function(){var n=v.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+h+'_iframe" name="'+h+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=r.firstChild,n.appendChild(u),o.addEvent(u,"load",(function(){var n;try{n=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?c=n.title.replace(/^(\d+).*$/,"$1"):(c=200,l=t.trim(n.body.innerHTML),A.trigger({type:"progress",loaded:l.length,total:l.length}),g&&A.trigger({type:"uploadprogress",loaded:g.size||1025,total:g.size||1025}))}catch(t){if(!i.hasSameOrigin(f.url))return void e.call(A,(function(){A.trigger("error")}));c=404}e.call(A,(function(){A.trigger("load")}))}),A.uid)}(),p.submit(),A.trigger("loadstart")},getStatus:function(){return c},getResponse:function(e){if("json"===e&&"string"===t.typeOf(l)&&window.JSON)try{return JSON.parse(l.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return l},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,(function(){t.dispatchEvent("abort")}))},destroy:function(){this.getRuntime().getShim().removeInstance(this.uid)}})}})),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],(function(e,t){return e.Image=t})),function(n){for(var i=0;i<n.length;i++){for(var r=e,a=n[i],s=a.split(/[.\/]/),c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=o[a]}}(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)},o=[],i="function"==typeof(r=function(){var e={};return s.apply(e,arguments),e.moxie})?r.apply(t,o):r,function(n,s){o=[i],void 0===(a="function"==typeof(r=function(){var e={};return s.apply(e,arguments),e.plupload})?r.apply(t,o):r)||(e.exports=a)}(this||window,(function(e){!function(e,t,n){function i(e){function t(e,t,n){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?i[r[e]]=t:n||(i[e]=t)}var n=e.required_features,i={};return"string"==typeof n?c.each(n.split(/\s*,\s*/),(function(e){t(e,!0)})):"object"==typeof n?c.each(n,(function(e,n){t(n,e)})):!0===n&&(e.chunk_size&&e.chunk_size>0&&(i.slice_blob=!0),c.isEmptyObj(e.resize)&&!1!==e.multipart||(i.send_binary_string=!0),e.http_method&&(i.use_http_method=e.http_method),c.each(e,(function(e,n){t(n,!!e,!0)}))),i}var r=window.setTimeout,o={},a=t.core.utils,s=t.runtime.Runtime,c={VERSION:"2.3.6",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,moxie:t,mimeTypes:a.Mime.mimes,ua:a.Env,typeOf:a.Basic.typeOf,extend:a.Basic.extend,guid:a.Basic.guid,getAll:function(e){var t,n=[];"array"!==c.typeOf(e)&&(e=[e]);for(var i=e.length;i--;)(t=c.get(e[i]))&&n.push(t);return n.length?n:null},get:a.Dom.get,each:a.Basic.each,getPos:a.Dom.getPos,getSize:a.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"};return e?(""+e).replace(/[<>&\"\']/g,(function(e){return t[e]?"&"+t[e]+";":e})):e},toArray:a.Basic.toArray,inArray:a.Basic.inArray,inSeries:a.Basic.inSeries,addI18n:t.core.I18n.addI18n,translate:t.core.I18n.translate,sprintf:a.Basic.sprintf,isEmptyObj:a.Basic.isEmptyObj,hasClass:a.Dom.hasClass,addClass:a.Dom.addClass,removeClass:a.Dom.removeClass,getStyle:a.Dom.getStyle,addEvent:a.Events.addEvent,removeEvent:a.Events.removeEvent,removeAllEvents:a.Events.removeAllEvents,cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return(e=e.replace(/\s+/g,"_")).replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var n="";return c.each(t,(function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)})),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return c.translate("N/A");var i=Math.pow(1024,4);return e>i?t(e/i,1)+" "+c.translate("tb"):e>(i/=1024)?t(e/i,1)+" "+c.translate("gb"):e>(i/=1024)?t(e/i,1)+" "+c.translate("mb"):e>1024?Math.round(e/1024)+" "+c.translate("kb"):e+" "+c.translate("b")},parseSize:a.Basic.parseSizeStr,predictRuntime:function(e,t){var n,i;return n=new c.Uploader(e),i=s.thatCan(n.getOption().required_features,t||e.runtimes),n.destroy(),i},addFileFilter:function(e,t){o[e]=t}};c.addFileFilter("mime_types",(function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:c.FILE_EXTENSION_ERROR,message:c.translate("File extension error."),file:t}),n(!1)):n(!0)})),c.addFileFilter("max_file_size",(function(e,t,n){e=c.parseSize(e),void 0!==t.size&&e&&t.size>e?(this.trigger("Error",{code:c.FILE_SIZE_ERROR,message:c.translate("File size error."),file:t}),n(!1)):n(!0)})),c.addFileFilter("prevent_duplicates",(function(e,t,n){if(e)for(var i=this.files.length;i--;)if(t.name===this.files[i].name&&t.size===this.files[i].size)return this.trigger("Error",{code:c.FILE_DUPLICATE_ERROR,message:c.translate("Duplicate file error."),file:t}),void n(!1);n(!0)})),c.addFileFilter("prevent_empty",(function(e,t,i){e&&!t.size&&t.size!==n?(this.trigger("Error",{code:c.FILE_SIZE_ERROR,message:c.translate("File size error."),file:t}),i(!1)):i(!0)})),c.Uploader=function(e){function a(){var e,t,n=0;if(this.state==c.STARTED){for(t=0;t<T.length;t++)e||T[t].status!=c.QUEUED?n++:(e=T[t],this.trigger("BeforeUpload",e)&&(e.status=c.UPLOADING,this.trigger("UploadFile",e)));n==T.length&&(this.state!==c.STOPPED&&(this.state=c.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",T))}}function l(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,u()}function u(){var e,t,i,r=0;for(I.reset(),e=0;e<T.length;e++)(t=T[e]).size!==n?(I.size+=t.origSize,i=t.loaded*t.origSize/t.size,(!t.completeTimestamp||t.completeTimestamp>R)&&(r+=i),I.loaded+=i):I.size=n,t.status==c.DONE?I.uploaded++:t.status==c.FAILED?I.failed++:I.queued++;I.size===n?I.percent=T.length>0?Math.ceil(I.uploaded/T.length*100):0:(I.bytesPerSec=Math.ceil(r/((+new Date-R||1)/1e3)),I.percent=I.size>0?Math.ceil(I.loaded/I.size*100):0)}function f(){var e=O[0]||D[0];return!!e&&e.getRuntime().uid}function d(){this.bind("FilesAdded FilesRemoved",(function(e){e.trigger("QueueChanged"),e.refresh()})),this.bind("CancelUpload",w),this.bind("BeforeUpload",g),this.bind("UploadFile",A),this.bind("UploadProgress",v),this.bind("StateChanged",y),this.bind("QueueChanged",u),this.bind("Error",E),this.bind("FileUploaded",b),this.bind("Destroy",x)}function h(e,n){var i=this,r=0,o=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:B,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};c.each(e.runtimes.split(/\s*,\s*/),(function(t){e[t]&&(a[t]=e[t])})),e.browse_button&&c.each(e.browse_button,(function(n){o.push((function(o){var l=new t.file.FileInput(c.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));l.onready=function(){var e=s.getInfo(this.ruid);c.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,O.push(this),o()},l.onchange=function(){i.addFile(this.files)},l.bind("mouseenter mouseleave mousedown mouseup",(function(t){k||(e.browse_button_hover&&("mouseenter"===t.type?c.addClass(n,e.browse_button_hover):"mouseleave"===t.type&&c.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===t.type?c.addClass(n,e.browse_button_active):"mouseup"===t.type&&c.removeClass(n,e.browse_button_active)))})),l.bind("mousedown",(function(){i.trigger("Browse")})),l.bind("error runtimeerror",(function(){l=null,o()})),l.init()}))})),e.drop_element&&c.each(e.drop_element,(function(e){o.push((function(n){var o=new t.file.FileDrop(c.extend({},a,{drop_zone:e}));o.onready=function(){var e=s.getInfo(this.ruid);c.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),r++,D.push(this),n()},o.ondrop=function(){i.addFile(this.files)},o.bind("error runtimeerror",(function(){o=null,n()})),o.init()}))})),c.inSeries(o,(function(){"function"==typeof n&&n(r)}))}function p(e,i,r,o){var a=new t.image.Image;try{a.onload=function(){i.width>this.width&&i.height>this.height&&i.quality===n&&i.preserve_headers&&!i.crop?(this.destroy(),o(e)):a.downsize(i.width,i.height,i.crop,i.preserve_headers)},a.onresize=function(){var t=this.getAsBlob(e.type,i.quality);this.destroy(),o(t)},a.bind("error runtimeerror",(function(){this.destroy(),o(e)})),a.load(e,r)}catch(t){o(e)}}function m(e,n,r){function o(e,n,i){var r=_[e];switch(e){case"max_file_size":"max_file_size"===e&&(_.max_file_size=_.filters.max_file_size=n);break;case"chunk_size":(n=c.parseSize(n))&&(_[e]=n,_.send_file_name=!0);break;case"multipart":_[e]=n,n||(_.send_file_name=!0);break;case"http_method":_[e]="PUT"===n.toUpperCase()?"PUT":"POST";break;case"unique_names":_[e]=n,n&&(_.send_file_name=!0);break;case"filters":"array"===c.typeOf(n)&&(n={mime_types:n}),i?c.extend(_.filters,n):_.filters=n,n.mime_types&&("string"===c.typeOf(n.mime_types)&&(n.mime_types=t.core.utils.Mime.mimes2extList(n.mime_types)),n.mime_types.regexp=function(e){var t=[];return c.each(e,(function(e){c.each(e.extensions.split(/,/),(function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))}))})),new RegExp("("+t.join("|")+")$","i")}(n.mime_types),_.filters.mime_types=n.mime_types);break;case"resize":_.resize=!!n&&c.extend({preserve_headers:!0,crop:!1},n);break;case"prevent_duplicates":_.prevent_duplicates=_.filters.prevent_duplicates=!!n;break;case"container":case"browse_button":case"drop_element":n="container"===e?c.get(n):c.getAll(n);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":_[e]=n,i||(l=!0);break;default:_[e]=n}i||a.trigger("OptionChanged",e,n,r)}var a=this,l=!1;"object"==typeof e?c.each(e,(function(e,t){o(t,e,r)})):o(e,n,r),r?(_.required_features=i(c.extend({},_)),B=i(c.extend({},_,{required_features:!0}))):l&&(a.trigger("Destroy"),h.call(a,_,(function(e){e?(a.runtime=s.getInfo(f()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:c.INIT_ERROR,message:c.translate("Init error.")})})))}function g(e,t){if(e.settings.unique_names){var n=t.name.match(/\.([^.]+)$/),i="part";n&&(i=n[1]),t.target_name=t.id+"."+i}}function A(e,n){function i(){f-- >0?r(o,1e3):(n.loaded=h,e.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:n,response:C.responseText,status:C.status,responseHeaders:C.getAllResponseHeaders()}))}function o(){var t,i,r={};n.status===c.UPLOADING&&e.state!==c.STOPPED&&(e.settings.send_file_name&&(r.name=n.target_name||n.name),u&&d.chunks&&s.size>u?(i=Math.min(u,s.size-h),t=s.slice(h,h+i)):(i=s.size,t=s),u&&d.chunks&&(e.settings.send_chunk_number?(r.chunk=Math.ceil(h/u),r.chunks=Math.ceil(s.size/u)):(r.offset=h,r.total=s.size)),e.trigger("BeforeChunkUpload",n,r,t,h)&&a(r,t,i))}function a(a,u,p){var g;(C=new t.xhr.XMLHttpRequest).upload&&(C.upload.onprogress=function(t){n.loaded=Math.min(n.size,h+t.loaded),e.trigger("UploadProgress",n)}),C.onload=function(){return C.status<200||C.status>=400?void i():(f=e.settings.max_retries,p<s.size?(u.destroy(),h+=p,n.loaded=Math.min(h,s.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:s.size,response:C.responseText,status:C.status,responseHeaders:C.getAllResponseHeaders()}),"Android Browser"===c.ua.browser&&e.trigger("UploadProgress",n)):n.loaded=n.size,u=g=null,void(!h||h>=s.size?(n.size!=n.origSize&&(s.destroy(),s=null),e.trigger("UploadProgress",n),n.status=c.DONE,n.completeTimestamp=+new Date,e.trigger("FileUploaded",n,{response:C.responseText,status:C.status,responseHeaders:C.getAllResponseHeaders()})):r(o,1)))},C.onerror=function(){i()},C.onloadend=function(){this.destroy()},e.settings.multipart&&d.multipart?(C.open(e.settings.http_method,l,!0),c.each(e.settings.headers,(function(e,t){C.setRequestHeader(t,e)})),g=new t.xhr.FormData,c.each(c.extend(a,e.settings.multipart_params),(function(e,t){g.append(t,e)})),g.append(e.settings.file_data_name,u),C.send(g,m)):(l=c.buildUrl(e.settings.url,c.extend(a,e.settings.multipart_params)),C.open(e.settings.http_method,l,!0),c.each(e.settings.headers,(function(e,t){C.setRequestHeader(t,e)})),C.hasRequestHeader("Content-Type")||C.setRequestHeader("Content-Type","application/octet-stream"),C.send(u,m))}var s,l=e.settings.url,u=e.settings.chunk_size,f=e.settings.max_retries,d=e.features,h=0,m={runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:B,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url};n.loaded&&(h=n.loaded=u?u*Math.floor(n.loaded/u):0),s=n.getSource(),c.isEmptyObj(e.settings.resize)||-1===c.inArray(s.type,["image/jpeg","image/png"])?o():p(s,e.settings.resize,m,(function(e){s=e,n.size=e.size,o()}))}function v(e,t){l(t)}function y(e){if(e.state==c.STARTED)R=+new Date;else if(e.state==c.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==c.UPLOADING&&(e.files[t].status=c.QUEUED,u())}function w(){C&&C.abort()}function b(e){u(),r((function(){a.call(e)}),1)}function E(e,t){t.code===c.INIT_ERROR?e.destroy():t.code===c.HTTP_ERROR&&(t.file.status=c.FAILED,t.file.completeTimestamp=+new Date,l(t.file),e.state==c.STARTED&&(e.trigger("CancelUpload"),r((function(){a.call(e)}),1)))}function x(e){e.stop(),c.each(T,(function(e){e.destroy()})),T=[],O.length&&(c.each(O,(function(e){e.destroy()})),O=[]),D.length&&(c.each(D,(function(e){e.destroy()})),D=[]),B={},k=!1,R=C=null,I.reset()}var _,R,I,C,S=c.guid(),T=[],B={},O=[],D=[],k=!1;_={chunk_size:0,file_data_name:"file",filters:{mime_types:[],max_file_size:0,prevent_duplicates:!1,prevent_empty:!0},flash_swf_url:"js/Moxie.swf",http_method:"POST",max_retries:0,multipart:!0,multi_selection:!0,resize:!1,runtimes:s.order,send_file_name:!0,send_chunk_number:!0,silverlight_xap_url:"js/Moxie.xap"},m.call(this,e,null,!0),I=new c.QueueProgress,c.extend(this,{id:S,uid:S,state:c.STOPPED,features:{},runtime:null,files:T,settings:_,total:I,init:function(){var e,t,n=this;return"function"==typeof(e=n.getOption("preinit"))?e(n):c.each(e,(function(e,t){n.bind(t,e)})),d.call(n),c.each(["container","browse_button","drop_element"],(function(e){return null===n.getOption(e)?(t={code:c.INIT_ERROR,message:c.sprintf(c.translate("%s specified, but cannot be found."),e)},!1):void 0})),t?n.trigger("Error",t):_.browse_button||_.drop_element?void h.call(n,_,(function(e){var t=n.getOption("init");"function"==typeof t?t(n):c.each(t,(function(e,t){n.bind(t,e)})),e?(n.runtime=s.getInfo(f()).type,n.trigger("Init",{runtime:n.runtime}),n.trigger("PostInit")):n.trigger("Error",{code:c.INIT_ERROR,message:c.translate("Init error.")})})):n.trigger("Error",{code:c.INIT_ERROR,message:c.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){m.call(this,e,t,!this.runtime)},getOption:function(e){return e?_[e]:_},refresh:function(){O.length&&c.each(O,(function(e){e.trigger("Refresh")})),this.trigger("Refresh")},start:function(){this.state!=c.STARTED&&(this.state=c.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=c.STOPPED&&(this.state=c.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){k=arguments[0]===n||arguments[0],O.length&&c.each(O,(function(e){e.disable(k)})),this.trigger("DisableBrowse",k)},getFile:function(e){var t;for(t=T.length-1;t>=0;t--)if(T[t].id===e)return T[t]},addFile:function(e,n){function i(e,t){var n=[];c.each(s.settings.filters,(function(t,i){o[i]&&n.push((function(n){o[i].call(s,t,e,(function(e){n(!e)}))}))})),c.inSeries(n,t)}var a,s=this,l=[],u=[];a=f(),function e(o){var f=c.typeOf(o);if(o instanceof t.file.File){if(!o.ruid&&!o.isDetached()){if(!a)return!1;o.ruid=a,o.connectRuntime(a)}e(new c.File(o))}else o instanceof t.file.Blob?(e(o.getSource()),o.destroy()):o instanceof c.File?(n&&(o.name=n),l.push((function(e){i(o,(function(t){t||(T.push(o),u.push(o),s.trigger("FileFiltered",o)),r(e,1)}))}))):-1!==c.inArray(f,["file","blob"])?e(new t.file.File(null,o)):"node"===f&&"filelist"===c.typeOf(o.files)?c.each(o.files,e):"array"===f&&(n=null,c.each(o,e))}(e),l.length&&c.inSeries(l,(function(){u.length&&s.trigger("FilesAdded",u)}))},removeFile:function(e){for(var t="string"==typeof e?e:e.id,n=T.length-1;n>=0;n--)if(T[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var i=T.splice(e===n?0:e,t===n?T.length:t),r=!1;return this.state==c.STARTED&&(c.each(i,(function(e){return e.status===c.UPLOADING?(r=!0,!1):void 0})),r&&this.stop()),this.trigger("FilesRemoved",i),c.each(i,(function(e){e.destroy()})),r&&this.start(),i},dispatchEvent:function(e){var t,n;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort((function(e,t){return t.priority-e.priority})),(n=[].slice.call(arguments)).shift(),n.unshift(this);for(var i=0;i<t.length;i++)if(!1===t[i].fn.apply(t[i].scope,n))return!1}return!0},bind:function(e,t,n,i){c.Uploader.prototype.bind.call(this,e,t,i,n)},destroy:function(){this.trigger("Destroy"),_=I=null,this.unbindAll()}})},c.Uploader.prototype=t.core.EventTarget.instance,c.File=function(){var e={};return function(t){c.extend(this,{id:c.guid(),name:t.name||t.fileName,type:t.type||"",relativePath:t.relativePath||"",size:t.fileSize||t.size,origSize:t.fileSize||t.size,loaded:0,percent:0,status:c.QUEUED,lastModifiedDate:t.lastModifiedDate||(new Date).toLocaleString(),completeTimestamp:0,getNative:function(){var e=this.getSource().getSource();return-1!==c.inArray(c.typeOf(e),["blob","file"])?e:null},getSource:function(){return e[this.id]?e[this.id]:null},destroy:function(){var t=this.getSource();t&&(t.destroy(),delete e[this.id])}}),e[this.id]=t}}(),c.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=c}(this,e)}))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var i=n(5),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return r[4*(e-1)+0];case i.M:return r[4*(e-1)+1];case i.Q:return r[4*(e-1)+2];case i.H:return r[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[4*(e-1)+0];case i.M:return o[4*(e-1)+1];case i.Q:return o[4*(e-1)+2];case i.H:return o[4*(e-1)+3];default:return}}},function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return r.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var i=t.getScale(e,n);return Math.floor((e+2*n.margin)*i)},t.qrToImageData=function(e,n,i){for(var r=n.modules.size,o=n.modules.data,a=t.getScale(r,i),s=Math.floor((r+2*i.margin)*a),c=i.margin*a,l=[i.color.light,i.color.dark],u=0;u<s;u++)for(var f=0;f<s;f++){var d=4*(u*s+f),h=i.color.light;if(u>=c&&f>=c&&u<s-c&&f<s-c)h=l[o[Math.floor((u-c)/a)*r+Math.floor((f-c)/a)]?1:0];e[d++]=h.r,e[d++]=h.g,e[d++]=h.b,e[d]=h.a}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=function(){"use strict";function e(e){return!!e&&(e instanceof HTMLCollection||e instanceof NodeList)}var t=[];function n(t){if(t){if(t instanceof n)return t;this.selector=t;var i,r,o=t.nodeType,a=[];9===o||1===o?a=[t]:e(t)||t instanceof Array?a=t:"string"==typeof t&&(0===(t=t.replace("/\n/mg","").trim()).indexOf("<")?(i=t,r=void 0,(r=document.createElement("div")).innerHTML=i,a=r.children):a=function(t){var n=document.querySelectorAll(t);return e(n)?n:[n]}(t));var s=a.length;if(!s)return this;var c=void 0;for(c=0;c<s;c++)this[c]=a[c];this.length=s}}function i(e){return new n(e)}n.prototype={constructor:n,forEach:function(e){var t=void 0;for(t=0;t<this.length;t++){var n=this[t];if(!1===e.call(n,n,t))break}return this},clone:function(e){var t=[];return this.forEach((function(n){t.push(n.cloneNode(!!e))})),i(t)},get:function(e){var t=this.length;return e>=t&&(e%=t),i(this[e])},first:function(){return this.get(0)},last:function(){var e=this.length;return this.get(e-1)},on:function(e,n,i){i||(i=n,n=null);var r=[];return r=e.split(/\s+/),this.forEach((function(e){r.forEach((function(r){r&&(t.push({elem:e,type:r,fn:i}),n?e.addEventListener(r,(function(e){var t=e.target;t.matches(n)&&i.call(t,e)})):e.addEventListener(r,i))}))}))},off:function(e,t){return this.forEach((function(n){n.removeEventListener(e,t)}))},attr:function(e,t){return null==t?this[0].getAttribute(e):this.forEach((function(n){n.setAttribute(e,t)}))},addClass:function(e){return e?this.forEach((function(t){var n=void 0;t.className?((n=(n=t.className.split(/\s/)).filter((function(e){return!!e.trim()}))).indexOf(e)<0&&n.push(e),t.className=n.join(" ")):t.className=e})):this},removeClass:function(e){return e?this.forEach((function(t){var n=void 0;t.className&&(n=(n=t.className.split(/\s/)).filter((function(t){return!(!(t=t.trim())||t===e)})),t.className=n.join(" "))})):this},css:function(e,t){var n=e+":"+t+";";return this.forEach((function(t){var i=(t.getAttribute("style")||"").trim(),r=[];i?(i.split(";").forEach((function(e){var t=e.split(":").map((function(e){return e.trim()}));2===t.length&&r.push(t[0]+":"+t[1])})),(r=r.map((function(t){return 0===t.indexOf(e)?n:t}))).indexOf(n)<0&&r.push(n),t.setAttribute("style",r.join("; "))):t.setAttribute("style",n)}))},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var e=this[0];return e?i(e.children):null},childNodes:function(){var e=this[0];return e?i(e.childNodes):null},append:function(e){return this.forEach((function(t){e.forEach((function(e){t.appendChild(e)}))}))},remove:function(){return this.forEach((function(e){if(e.remove)e.remove();else{var t=e.parentElement;t&&t.removeChild(e)}}))},isContain:function(e){var t=this[0],n=e[0];return t.contains(n)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(e){return i(this[0].querySelectorAll(e))},text:function(e){return e?this.forEach((function(t){t.innerHTML=e})):this[0].innerHTML.replace(/<.*?>/g,(function(){return""}))},html:function(e){var t=this[0];return null==e?t.innerHTML:(t.innerHTML=e,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach((function(e){e.focus()}))},parent:function(){return i(this[0].parentElement)},parentUntil:function(e,t){var n=document.querySelectorAll(e),r=n.length;if(!r)return null;var o=t||this[0];if("BODY"===o.nodeName)return null;var a=o.parentElement,s=void 0;for(s=0;s<r;s++)if(a===n[s])return i(a);return this.parentUntil(e,a)},equal:function(e){return 1===e.nodeType?this[0]===e:this[0]===e[0]},insertBefore:function(e){var t=i(e)[0];return t?this.forEach((function(e){t.parentNode.insertBefore(e,t)})):this},insertAfter:function(e){var t=i(e)[0];return t?this.forEach((function(e){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)})):this}},i.offAll=function(){t.forEach((function(e){var t=e.elem,n=e.type,i=e.fn;t.removeEventListener(n,i)}))};var r={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["","","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"",type:"image",content:[{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[]"}]},{title:"emoji",type:"emoji",content:"                  ".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(e,t){return!0},linkImgCheck:function(e){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(e){return e},showLinkImg:!0,linkImgCallback:function(e){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(e,t,n){},success:function(e,t,n){},fail:function(e,t,n){},error:function(e,t){},timeout:function(e,t){}},qiniu:!1},o={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function a(e,t){var n=void 0;for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,n,e[n]))break}function s(e,t){var n=void 0,i=void 0,r=e.length||0;for(n=0;n<r&&(i=e[n],!1!==t.call(e,i,n));n++);}function c(e){return e+Math.random().toString().slice(2)}function l(e){return null==e?"":e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function u(e){return"function"==typeof e}function f(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}f.prototype={constructor:f,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("bold"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("bold")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var d=function(e,t){var n=e.config.langArgs||[],i=t;return n.forEach((function(e){var t=e.reg,n=e.val;t.test(i)&&(i=i.replace(t,(function(){return n})))})),i},h=function(){};function p(e,t){var n=this,r=e.editor;this.menu=e,this.opt=t;var o=i('<div class="w-e-droplist"></div>'),a=t.$title,s=void 0;a&&(s=a.html(),s=d(r,s),a.html(s),a.addClass("w-e-dp-title"),o.append(a));var c=t.list||[],l=t.type||"list",u=t.onClick||h,f=i('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');o.append(f),c.forEach((function(e){var t=e.$elem,o=t.html();o=d(r,o),t.html(o);var a=e.value,s=i('<li class="w-e-item"></li>');t&&(s.append(t),f.append(s),s.on("click",(function(e){u(a),n.hideTimeoutId=setTimeout((function(){n.hide()}),0)})))})),o.on("mouseleave",(function(e){n.hideTimeoutId=setTimeout((function(){n.hide()}),0)})),this.$container=o,this._rendered=!1,this._show=!1}function m(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:100,$title:i("<p></p>"),type:"list",list:[{$elem:i("<h1>H1</h1>"),value:"<h1>"},{$elem:i("<h2>H2</h2>"),value:"<h2>"},{$elem:i("<h3>H3</h3>"),value:"<h3>"},{$elem:i("<h4>H4</h4>"),value:"<h4>"},{$elem:i("<h5>H5</h5>"),value:"<h5>"},{$elem:i("<p></p>"),value:"<p>"}],onClick:function(e){t._command(e)}})}function g(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:160,$title:i("<p></p>"),type:"list",list:[{$elem:i('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:i('<span style="font-size: small;">small</span>'),value:"2"},{$elem:i("<span>normal</span>"),value:"3"},{$elem:i('<span style="font-size: large;">large</span>'),value:"4"},{$elem:i('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:i('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(e){t._command(e)}})}function A(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var n=e.config.fontNames||[];this.droplist=new p(this,{width:100,$title:i("<p></p>"),type:"list",list:n.map((function(e){return{$elem:i('<span style="font-family: '+e+';">'+e+"</span>"),value:e}})),onClick:function(e){t._command(e)}})}p.prototype={constructor:p,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var e=this.menu.$elem,t=this.$container;if(!this._show){if(this._rendered)t.show();else{var n=e.getSizeData().height||0,i=this.opt.width||100;t.css("margin-top",n+"px").css("width",i+"px"),e.append(t),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var e=this.$container;this._show&&(e.hide(),this._show=!1)}},m.prototype={constructor:m,_command:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();t.$textElem.equal(n)||t.cmd.do("formatBlock",e)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,i=t.cmd.queryCommandValue("formatBlock");/^h/i.test(i)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},g.prototype={constructor:g,_command:function(e){this.editor.cmd.do("fontSize",e)}},A.prototype={constructor:A,_command:function(e){this.editor.cmd.do("fontName",e)}};var v=function(){},y=[];function w(e,t){this.menu=e,this.opt=t}function b(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function E(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function x(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function _(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function R(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function I(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function C(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:120,$title:i("<p></p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-list-numbered"></i> </span>'),value:"insertOrderedList"},{$elem:i('<span><i class="w-e-icon-list2"></i> </span>'),value:"insertUnorderedList"}],onClick:function(e){t._command(e)}})}function S(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:100,$title:i("<p></p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-paragraph-left"></i> </span>'),value:"justifyLeft"},{$elem:i('<span><i class="w-e-icon-paragraph-center"></i> </span>'),value:"justifyCenter"},{$elem:i('<span><i class="w-e-icon-paragraph-right"></i> </span>'),value:"justifyRight"}],onClick:function(e){t._command(e)}})}function T(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var n=e.config.colors||[];this._active=!1,this.droplist=new p(this,{width:120,$title:i("<p></p>"),type:"inline-block",list:n.map((function(e){return{$elem:i('<i style="color:'+e+';" class="w-e-icon-pencil2"></i>'),value:e}})),onClick:function(e){t._command(e)}})}function B(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var n=e.config.colors||[];this._active=!1,this.droplist=new p(this,{width:120,$title:i("<p></p>"),type:"inline-block",list:n.map((function(e){return{$elem:i('<i style="color:'+e+';" class="w-e-icon-paint-brush"></i>'),value:e}})),onClick:function(e){t._command(e)}})}function O(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function D(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function k(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function M(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function N(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function P(e){this.editor=e;var t=c("w-e-img");this.$elem=i('<div class="w-e-menu" id="'+t+'"><i class="w-e-icon-image"></i></div>'),e.imgMenuId=t,this.type="panel",this._active=!1}w.prototype={constructor:w,show:function(){var e=this,t=this.menu;if(!(y.indexOf(t)>=0)){var n=t.editor,r=i("body"),o=n.$textContainerElem,a=this.opt,s=i('<div class="w-e-panel-container"></div>'),c=a.width||300;s.css("width",c+"px").css("margin-left",(0-c)/2+"px");var l=i('<i class="w-e-icon-close w-e-panel-close"></i>');s.append(l),l.on("click",(function(){e.hide()}));var u=i('<ul class="w-e-panel-tab-title"></ul>'),f=i('<div class="w-e-panel-tab-content"></div>');s.append(u).append(f);var h=a.height;h&&f.css("height",h+"px").css("overflow-y","auto");var p=a.tabs||[],m=[],g=[];p.forEach((function(e,t){if(e){var r=e.title||"",o=e.tpl||"";r=d(n,r),o=d(n,o);var a=i('<li class="w-e-item">'+r+"</li>");u.append(a);var s=i(o);f.append(s),a._index=t,m.push(a),g.push(s),0===t?(a._active=!0,a.addClass("w-e-active")):s.hide(),a.on("click",(function(e){a._active||(m.forEach((function(e){e._active=!1,e.removeClass("w-e-active")})),g.forEach((function(e){e.hide()})),a._active=!0,a.addClass("w-e-active"),s.show())}))}})),s.on("click",(function(e){e.stopPropagation()})),r.on("click",(function(t){e.hide()})),o.append(s),p.forEach((function(t,n){t&&(t.events||[]).forEach((function(t){var i=t.selector,r=t.type,o=t.fn||v;g[n].find(i).on(r,(function(t){t.stopPropagation(),o(t)&&e.hide()}))}))}));var A=s.find("input[type=text],textarea");A.length&&A.get(0).focus(),this.$container=s,this._hideOtherPanels(),y.push(t)}},hide:function(){var e=this.menu,t=this.$container;t&&t.remove(),y=y.filter((function(t){return t!==e}))},_hideOtherPanels:function(){y.length&&y.forEach((function(e){var t=e.panel||{};t.hide&&t.hide()}))}},b.prototype={constructor:b,onClick:function(e){var t=this.editor,n=void 0;if(this._active){if(!(n=t.selection.getSelectionContainerElem()))return;t.selection.createRangeByElem(n),t.selection.restoreSelection(),this._createPanel(n.text(),n.attr("href"))}else t.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(t.selection.getSelectionText(),"")},_createPanel:function(e,t){var n=this,r=c("input-link"),o=c("input-text"),a=c("btn-ok"),s=c("btn-del"),l=this._active?"inline-block":"none",u=new w(this,{width:300,tabs:[{title:"",tpl:'<div>\n                            <input id="'+o+'" type="text" class="block" value="'+e+'" placeholder=""/></td>\n                            <input id="'+r+'" type="text" class="block" value="'+t+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+a+'" class="right"></button>\n                                <button id="'+s+'" class="gray right" style="display:'+l+'"></button>\n                            </div>\n                        </div>',events:[{selector:"#"+a,type:"click",fn:function(){var e=i("#"+r),t=i("#"+o),a=e.val(),s=t.val();return n._insertLink(s,a),!0}},{selector:"#"+s,type:"click",fn:function(){return n._delLink(),!0}}]}]});u.show(),this.panel=u},_delLink:function(){if(this._active){var e=this.editor;if(e.selection.getSelectionContainerElem()){var t=e.selection.getSelectionText();e.cmd.do("insertHTML","<span>"+t+"</span>")}}},_insertLink:function(e,t){var n=this.editor,i=n.config.linkCheck,r=!0;i&&"function"==typeof i&&(r=i(e,t)),!0===r?n.cmd.do("insertHTML",'<a href="'+t+'" target="_blank">'+e+"</a>"):alert(r)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,i=t.selection.getSelectionContainerElem();i&&("A"===i.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active")))}},E.prototype={constructor:E,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("italic"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("italic")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},x.prototype={constructor:x,onClick:function(e){this.editor.cmd.do("redo")}},_.prototype={constructor:_,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("strikeThrough"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("strikeThrough")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},R.prototype={constructor:R,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("underline"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("underline")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},I.prototype={constructor:I,onClick:function(e){this.editor.cmd.do("undo")}},C.prototype={constructor:C,_command:function(e){var t=this.editor,n=t.$textElem;if(t.selection.restoreSelection(),!t.cmd.queryCommandState(e)){t.cmd.do(e);var i=t.selection.getSelectionContainerElem();if("LI"===i.getNodeName()&&(i=i.parent()),!1!==/^ol|ul$/i.test(i.getNodeName())&&!i.equal(n)){var r=i.parent();r.equal(n)||(i.insertAfter(r),r.remove())}}},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("insertUnOrderedList")||t.cmd.queryCommandState("insertOrderedList")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},S.prototype={constructor:S,_command:function(e){this.editor.cmd.do(e)}},T.prototype={constructor:T,_command:function(e){this.editor.cmd.do("foreColor",e)}},B.prototype={constructor:B,_command:function(e){this.editor.cmd.do("backColor",e)}},O.prototype={constructor:O,onClick:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem(),r=n.getNodeName();if(o.isIE()){if("P"===r)return i("<blockquote>"+n.text()+"</blockquote>").insertAfter(n),void n.remove();"BLOCKQUOTE"===r&&(i("<p>"+n.text()+"</p>").insertAfter(n),n.remove())}else"BLOCKQUOTE"===r?t.cmd.do("formatBlock","<P>"):t.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(e){var t=this.editor,n=this.$elem,i=t.cmd.queryCommandValue("formatBlock");/^BLOCKQUOTE$/i.test(i)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},D.prototype={constructor:D,onClick:function(e){var t=this.editor,n=t.selection.getSelectionStartElem(),r=t.selection.getSelectionEndElem(),o=t.selection.isSelectionEmpty(),a=t.selection.getSelectionText(),s=void 0;if(n.equal(r))return o?void(this._active?this._createPanel(n.html()):this._createPanel()):(s=i("<code>"+a+"</code>"),t.cmd.do("insertElem",s),t.selection.createRangeByElem(s,!1),void t.selection.restoreSelection());t.selection.restoreSelection()},_createPanel:function(e){var t=this,n=(e=e||"")?"edit":"new",r=c("texxt"),o=c("btn"),a=new w(this,{width:500,tabs:[{title:"",tpl:'<div>\n                        <textarea id="'+r+'" style="height:145px;;">'+e+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="right"></button>\n                        </div>\n                    <div>',events:[{selector:"#"+o,type:"click",fn:function(){var e=i("#"+r),o=e.val()||e.html();return o=l(o),"new"===n?t._insertCode(o):t._updateCode(o),!0}}]}]});a.show(),this.panel=a},_insertCode:function(e){this.editor.cmd.do("insertHTML","<pre><code>"+e+"</code></pre><p><br></p>")},_updateCode:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();n&&(n.html(e),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem,i=t.selection.getSelectionContainerElem();if(i){var r=i.parent();"CODE"===i.getNodeName()&&"PRE"===r.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},k.prototype={constructor:k,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=this.editor.config.emotions||[],n=[];t.forEach((function(t){var r=t.type,o=t.content||[],a="";"emoji"===r&&o.forEach((function(e){e&&(a+='<span class="w-e-item">'+e+"</span>")})),"image"===r&&o.forEach((function(e){var t=e.src,n=e.alt;t&&(a+='<span class="w-e-item"><img src="'+t+'" alt="'+n+'" data-w-e="1"/></span>')})),n.push({title:t.title,tpl:'<div class="w-e-emoticon-container">'+a+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(t){var n=i(t.target),r=void 0;return r="IMG"===n.getNodeName()?n.parent().html():"<span>"+n.html()+"</span>",e._insert(r),!0}}]})}));var r=new w(this,{width:300,height:200,tabs:n});r.show(),this.panel=r},_insert:function(e){this.editor.cmd.do("insertHTML",e)}},M.prototype={constructor:M,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var e=this,t=c("btn"),n=c("row"),r=c("col"),o=new w(this,{width:250,tabs:[{title:"",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            \n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            \n                            <input id="'+r+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            \n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+t+'" class="right"></button>\n                        </div>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=parseInt(i("#"+n).val()),o=parseInt(i("#"+r).val());return t&&o&&t>0&&o>0&&e._insert(t,o),!0}}]}]});o.show(),this.panel=o},_insert:function(e,t){var n=void 0,i=void 0,r='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(n=0;n<e;n++){if(r+="<tr>",0===n)for(i=0;i<t;i++)r+="<th>&nbsp;</th>";else for(i=0;i<t;i++)r+="<td>&nbsp;</td>";r+="</tr>"}r+="</table><p><br></p>";var o=this.editor;o.cmd.do("insertHTML",r),o.cmd.do("enableObjectResizing",!1),o.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var e=this,t=c("add-row"),n=c("add-col"),i=c("del-row"),r=c("del-col"),o=c("del-table");new w(this,{width:320,tabs:[{title:"",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+t+'" class="left"></button>\n                            <button id="'+i+'" class="red left"></button>\n                            <button id="'+n+'" class="left"></button>\n                            <button id="'+r+'" class="red left"></button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="gray left"></button>\n                        </dv>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){return e._addRow(),!0}},{selector:"#"+n,type:"click",fn:function(){return e._addCol(),!0}},{selector:"#"+i,type:"click",fn:function(){return e._delRow(),!0}},{selector:"#"+r,type:"click",fn:function(){return e._delCol(),!0}},{selector:"#"+o,type:"click",fn:function(){return e._delTable(),!0}}]}]}).show()},_getLocationData:function(){var e={},t=this.editor.selection.getSelectionContainerElem();if(t){var n=t.getNodeName();if("TD"===n||"TH"===n){var i=t.parent(),r=i.children(),o=r.length;r.forEach((function(n,i){if(n===t[0])return e.td={index:i,elem:n,length:o},!1}));var a=i.parent().children(),s=a.length;return a.forEach((function(t,n){if(t===i[0])return e.tr={index:n,elem:t,length:s},!1})),e}}},_addRow:function(){var e=this._getLocationData();if(e){var t=i(e.tr.elem),n=e.td.length,r=document.createElement("tr"),o="",a=void 0;for(a=0;a<n;a++)o+="<td>&nbsp;</td>";r.innerHTML=o,i(r).insertAfter(t)}},_addCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td.index;i(t.elem).parent().children().forEach((function(e){var t=i(e).children().get(n),r=t.getNodeName().toLowerCase();i(document.createElement(r)).insertAfter(t)}))}},_delRow:function(){var e=this._getLocationData();e&&i(e.tr.elem).remove()},_delCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td.index;i(t.elem).parent().children().forEach((function(e){i(e).children().get(n).remove()}))}},_delTable:function(){var e=this.editor.selection.getSelectionContainerElem();if(e){var t=e.parentUntil("table");t&&t.remove()}},tryChangeActive:function(e){var t=this.editor,n=this.$elem,i=t.selection.getSelectionContainerElem();if(i){var r=i.getNodeName();"TD"===r||"TH"===r?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},N.prototype={constructor:N,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=c("text-val"),n=c("btn"),r=new w(this,{width:350,tabs:[{title:"",tpl:'<div>\n                        <input id="'+t+'" type="text" class="block" placeholder="<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+n+'" class="right"></button>\n                        </div>\n                    </div>',events:[{selector:"#"+n,type:"click",fn:function(){var n=i("#"+t).val().trim();return n&&e._insert(n),!0}}]}]});r.show(),this.panel=r},_insert:function(e){this.editor.cmd.do("insertHTML",e+"<p><br></p>")}},P.prototype={constructor:P,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var e=this.editor,t=c("width-30"),n=c("width-50"),i=c("width-100"),r=c("del-btn"),o=new w(this,{width:300,tabs:[{title:"",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;"></span>\n                        <button id="'+t+'" class="left">30%</button>\n                        <button id="'+n+'" class="left">50%</button>\n                        <button id="'+i+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+r+'" class="gray left"></button>\n                    </dv>\n                </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","30%"),!0}},{selector:"#"+n,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","50%"),!0}},{selector:"#"+i,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","100%"),!0}},{selector:"#"+r,type:"click",fn:function(){var t=e._selectedImg;return t&&t.remove(),!0}}]}]});o.show(),this.panel=o},_createInsertPanel:function(){var e=this.editor,t=e.uploadImg,n=e.config,r=c("up-trigger"),o=c("up-file"),a=c("link-url"),s=c("link-btn"),l=[{title:"",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+r+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+o+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+r,type:"click",fn:function(){var e=i("#"+o)[0];if(!e)return!0;e.click()}},{selector:"#"+o,type:"change",fn:function(){var e=i("#"+o)[0];if(!e)return!0;var n=e.files;return n.length&&t.uploadImg(n),!0}}]},{title:"",tpl:'<div>\n                    <input id="'+a+'" type="text" class="block" placeholder=""/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+s+'" class="right"></button>\n                    </div>\n                </div>',events:[{selector:"#"+s,type:"click",fn:function(){var e=i("#"+a).val().trim();return e&&t.insertLinkImg(e),!0}}]}],u=[];(n.uploadImgShowBase64||n.uploadImgServer||n.customUploadImg)&&window.FileReader&&u.push(l[0]),n.showLinkImg&&u.push(l[1]);var f=new w(this,{width:300,tabs:u});f.show(),this.panel=f},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t._selectedImg?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var F={};function L(e){this.editor=e,this.menus={}}function U(e){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return l(null==t?window.clipboardData&&window.clipboardData.getData("text"):t.getData("text/plain"))}function j(e){this.editor=e}function z(e){this.editor=e}function Q(e){this.editor=e,this._currentRange=null}function H(e){this.editor=e,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=e.$textContainerElem,this.$bar=i('<div class="w-e-progress"></div>')}F.bold=f,F.head=m,F.fontSize=g,F.fontName=A,F.link=b,F.italic=E,F.redo=x,F.strikeThrough=_,F.underline=R,F.undo=I,F.list=C,F.justify=S,F.foreColor=T,F.backColor=B,F.quote=O,F.code=D,F.emoticon=k,F.table=M,F.video=N,F.image=P,L.prototype={constructor:L,init:function(){var e=this,t=this.editor;((t.config||{}).menus||[]).forEach((function(n){var i=F[n];i&&"function"==typeof i&&(e.menus[n]=new i(t))})),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var e=this.editor,t=e.$toolbarElem,n=this.menus,i=e.config.zIndex+1;a(n,(function(e,n){var r=n.$elem;r&&(r.css("z-index",i),t.append(r))}))},_bindEvent:function(){var e=this.menus,t=this.editor;a(e,(function(e,n){var i=n.type;if(i){var r=n.$elem,o=n.droplist;n.panel,"click"===i&&n.onClick&&r.on("click",(function(e){null!=t.selection.getRange()&&n.onClick(e)})),"droplist"===i&&o&&r.on("mouseenter",(function(e){null!=t.selection.getRange()&&(o.showTimeoutId=setTimeout((function(){o.show()}),200))})).on("mouseleave",(function(e){o.hideTimeoutId=setTimeout((function(){o.hide()}),0)})),"panel"===i&&n.onClick&&r.on("click",(function(e){e.stopPropagation(),null!=t.selection.getRange()&&n.onClick(e)}))}}))},changeActive:function(){a(this.menus,(function(e,t){t.tryChangeActive&&setTimeout((function(){t.tryChangeActive()}),100)}))}},j.prototype={constructor:j,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(e){var t=this.editor,n=t.$textElem,i=void 0;if(null==e)return i=n.html(),i=i.replace(/\u200b/gm,""),i;n.html(e),t.initSelection()},getJSON:function(){return function e(t){var n=[];return(t.childNodes()||[]).forEach((function(t){var r=void 0,o=t.nodeType;if(3===o&&(r=l(r=t.textContent)),1===o){(r={}).tag=t.nodeName.toLowerCase();for(var a=[],s=t.attributes||{},c=s.length||0,u=0;u<c;u++){var f=s[u];a.push({name:f.name,value:f.value})}r.attrs=a,r.children=e(i(t))}n.push(r)})),n}(this.editor.$textElem)},text:function(e){var t=this.editor,n=t.$textElem,i=void 0;if(null==e)return i=n.text(),i=i.replace(/\u200b/gm,""),i;n.text("<p>"+e+"</p>"),t.initSelection()},append:function(e){var t=this.editor;t.$textElem.append(i(e)),t.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var e=this.editor,t=e.$textElem;function n(t){e.selection.saveRange(),e.menus.changeActive()}t.on("keyup",n),t.on("mousedown",(function(e){t.on("mouseleave",n)})),t.on("mouseup",(function(e){n(),t.off("mouseleave",n)}))},_enterKeyHandle:function(){var e=this.editor,t=e.$textElem;function n(t){var n=i("<p><br></p>");n.insertBefore(t),e.selection.createRangeByElem(n,!0),e.selection.restoreSelection(),t.remove()}t.on("keyup",(function(i){var r,o;13===i.keyCode&&(r=e.selection.getSelectionContainerElem(),"<code><br></code>"!==(o=r.parent()).html()?o.equal(t)&&"P"!==r.getNodeName()&&(r.text()||n(r)):n(r))})),t.on("keydown",(function(t){13===t.keyCode?function(t){var n=e.selection.getSelectionContainerElem();if(n){var r=n.parent(),o=n.getNodeName(),a=r.getNodeName();if("CODE"===o&&"PRE"===a&&e.cmd.queryCommandSupported("insertHTML")){if(!0===e._willBreakCode){var s=i("<p><br></p>");return s.insertAfter(r),e.selection.createRangeByElem(s,!0),e.selection.restoreSelection(),e._willBreakCode=!1,void t.preventDefault()}var c=e.selection.getRange().startOffset;e.cmd.do("insertHTML","\n"),e.selection.saveRange(),e.selection.getRange().startOffset===c&&e.cmd.do("insertHTML","\n");var l=n.html().length;e.selection.getRange().startOffset+1===l&&(e._willBreakCode=!0),t.preventDefault()}}}(t):e._willBreakCode=!1}))},_clearHandle:function(){var e=this.editor,t=e.$textElem;t.on("keydown",(function(e){8===e.keyCode&&("<p><br></p>"!==t.html().toLowerCase().trim()||e.preventDefault())})),t.on("keyup",(function(n){if(8===n.keyCode){var r=void 0,o=t.html().toLowerCase().trim();o&&"<br>"!==o||(r=i("<p><br/></p>"),t.html(""),t.append(r),e.selection.createRangeByElem(r,!1,!0),e.selection.restoreSelection())}}))},_pasteHandle:function(){var e=this.editor,t=e.config,n=t.pasteFilterStyle,i=t.pasteTextHandle,r=t.pasteIgnoreImg,s=e.$textElem,c=0;function f(){var e=Date.now(),t=!1;return e-c>=100&&(t=!0),c=e,t}s.on("paste",(function(t){if(!o.isIE()&&(t.preventDefault(),f())){var a=function(e,t,n){var i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,r=void 0,o=void 0;if(null==i?r=window.clipboardData&&window.clipboardData.getData("text"):(r=i.getData("text/plain"),o=i.getData("text/html")),!o&&r&&(o="<p>"+l(r)+"</p>"),o){var a=o.split("</html>");return 2===a.length&&(o=a[0]),o=(o=(o=o.replace(/<(meta|script|link).+?>/gim,"")).replace(/<!--.*?-->/gm,"")).replace(/\s?data-.+?=('|").+?('|")/gim,""),n&&(o=o.replace(/<img.+?>/gim,"")),o=t?o.replace(/\s?(class|style)=('|").*?('|")/gim,""):o.replace(/\s?class=('|").*?('|")/gim,"")}}(t,n,r),s=U(t);s=s.replace(/\n/gm,"<br>");var d=e.selection.getSelectionContainerElem();if(d){var h=d.getNodeName();if("CODE"===h||"PRE"===h)return i&&u(i)&&(s=""+(i(s)||"")),void e.cmd.do("insertHTML","<p>"+s+"</p>");if(a)try{i&&u(i)&&(a=""+(i(a)||"")),e.cmd.do("insertHTML",a)}catch(t){i&&u(i)&&(s=""+(i(s)||"")),e.cmd.do("insertHTML","<p>"+s+"</p>")}else c=0}}})),s.on("paste",(function(t){if(!o.isIE()&&(t.preventDefault(),f())){var n=function(e){var t=[];if(U(e))return t;var n=(e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{}).items;return n?(a(n,(function(e,n){var i=n.type;/image/i.test(i)&&t.push(n.getAsFile())})),t):t}(t);if(n&&n.length){var i=e.selection.getSelectionContainerElem();if(i){var r=i.getNodeName();"CODE"!==r&&"PRE"!==r&&e.uploadImg.uploadImg(n)}}}}))},_tabHandle:function(){var e=this.editor;e.$textElem.on("keydown",(function(t){if(9===t.keyCode&&e.cmd.queryCommandSupported("insertHTML")){var n=e.selection.getSelectionContainerElem();if(n){var i=n.parent(),r=n.getNodeName(),o=i.getNodeName();"CODE"===r&&"PRE"===o?e.cmd.do("insertHTML","    "):e.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),t.preventDefault()}}}))},_imgHandle:function(){var e=this.editor,t=e.$textElem;t.on("click","img",(function(t){var n=i(this);"1"!==n.attr("data-w-e")&&(e._selectedImg=n,e.selection.createRangeByElem(n),e.selection.restoreSelection())})),t.on("click  keyup",(function(t){t.target.matches("img")||(e._selectedImg=null)}))},_dragHandle:function(){var e=this.editor;i(document).on("dragleave drop dragenter dragover",(function(e){e.preventDefault()})),e.$textElem.on("drop",(function(t){t.preventDefault();var n=t.dataTransfer&&t.dataTransfer.files;n&&n.length&&e.uploadImg.uploadImg(n)}))}},z.prototype={constructor:z,do:function(e,t){var n=this.editor;if(n._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),n._useStyleWithCSS=!0),n.selection.getRange()){n.selection.restoreSelection();var i="_"+e;this[i]?this[i](t):this._execCommand(e,t),n.menus.changeActive(),n.selection.saveRange(),n.selection.restoreSelection(),n.change&&n.change()}},_insertHTML:function(e){var t=this.editor.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",e):t.insertNode?(t.deleteContents(),t.insertNode(i(e)[0])):t.pasteHTML&&t.pasteHTML(e)},_insertElem:function(e){var t=this.editor.selection.getRange();t.insertNode&&(t.deleteContents(),t.insertNode(e[0]))},_execCommand:function(e,t){document.execCommand(e,!1,t)},queryCommandValue:function(e){return document.queryCommandValue(e)},queryCommandState:function(e){return document.queryCommandState(e)},queryCommandSupported:function(e){return document.queryCommandSupported(e)}},Q.prototype={constructor:Q,getRange:function(){return this._currentRange},saveRange:function(e){if(e)this._currentRange=e;else{var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),i=this.getSelectionContainerElem(n);i&&("false"===i.attr("contenteditable")||i.parentUntil("[contenteditable=false]")||this.editor.$textElem.isContain(i)&&(this._currentRange=n))}}},collapseRange:function(e){null==e&&(e=!1);var t=this._currentRange;t&&t.collapse(e)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(e){var t=void 0;if(e=e||this._currentRange)return i(1===(t=e.commonAncestorContainer).nodeType?t:t.parentNode)},getSelectionStartElem:function(e){var t=void 0;if(e=e||this._currentRange)return i(1===(t=e.startContainer).nodeType?t:t.parentNode)},getSelectionEndElem:function(e){var t=void 0;if(e=e||this._currentRange)return i(1===(t=e.endContainer).nodeType?t:t.parentNode)},isSelectionEmpty:function(){var e=this._currentRange;return!(!e||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},restoreSelection:function(){var e=window.getSelection();e.removeAllRanges(),e.addRange(this._currentRange)},createEmptyRange:function(){var e=this.editor,t=this.getRange(),n=void 0;if(t&&this.isSelectionEmpty())try{o.isWebkit()?(e.cmd.do("insertHTML","&#8203;"),t.setEnd(t.endContainer,t.endOffset+1),this.saveRange(t)):(n=i("<strong>&#8203;</strong>"),e.cmd.do("insertElem",n),this.createRangeByElem(n,!0))}catch(e){}},createRangeByElem:function(e,t,n){if(e.length){var i=e[0],r=document.createRange();n?r.selectNodeContents(i):r.selectNode(i),"boolean"==typeof t&&r.collapse(t),this.saveRange(r)}}},H.prototype={constructor:H,show:function(e){var t=this;if(!this._isShow){this._isShow=!0;var n=this.$bar;this._isRender?this._isRender=!0:this.$textContainer.append(n),Date.now()-this._time>100&&e<=1&&(n.css("width",100*e+"%"),this._time=Date.now());var i=this._timeoutId;i&&clearTimeout(i),i=setTimeout((function(){t._hide()}),500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $(e){this.editor=e}$.prototype={constructor:$,_alert:function(e,t){var n=this.editor,i=n.config.debug,r=n.config.customAlert;if(i)throw new Error("wangEditor: "+(t||e));r&&"function"==typeof r?r(e):alert(e)},insertLinkImg:function(e){var t=this;if(e){var n=this.editor,i=n.config,r=i.linkImgCheck,o=void 0;if(r&&"function"==typeof r&&"string"==typeof(o=r(e)))alert(o);else{n.cmd.do("insertHTML",'<img src="'+e+'" style="max-width:100%;"/>');var a=document.createElement("img");a.onload=function(){var t=i.linkImgCallback;t&&"function"==typeof t&&t(e),a=null},a.onerror=function(){a=null,t._alert("",'wangEditor:  "'+e+'"')},a.onabort=function(){a=null},a.src=e}}},uploadImg:function(e){var t=this;if(e&&e.length){var n=this.editor,i=n.config,r=i.uploadImgServer,o=i.uploadImgShowBase64,c=i.uploadImgMaxSize,l=c/1024/1024,u=i.uploadImgMaxLength||1e4,f=i.uploadFileName||"",d=i.uploadImgParams||{},h=i.uploadImgParamsWithUrl,p=i.uploadImgHeaders||{},m=i.uploadImgHooks||{},g=i.uploadImgTimeout||3e3,A=i.withCredentials;null==A&&(A=!1);var v=i.customUploadImg;if(v||r||o){var y=[],w=[];if(s(e,(function(e){var t=e.name,n=e.size;t&&n&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(t)?c<n?w.push(""+t+" "+l+"M"):y.push(e):w.push(""+t+""))})),w.length)this._alert(": \n"+w.join("\n"));else if(y.length>u)this._alert(""+u+"");else if(v&&"function"==typeof v)v(y,this.insertLinkImg.bind(this));else{var b=new FormData;if(s(y,(function(e){var t=f||e.name;b.append(t,e)})),r&&"string"==typeof r){var E=r.split("#");r=E[0];var x=E[1]||"";a(d,(function(e,t){h&&(r.indexOf("?")>0?r+="&":r+="?",r=r+e+"="+t),b.append(e,t)})),x&&(r+="#"+x);var _=new XMLHttpRequest;if(_.open("POST",r),_.timeout=g,_.ontimeout=function(){m.timeout&&"function"==typeof m.timeout&&m.timeout(_,n),t._alert("")},_.upload&&(_.upload.onprogress=function(e){var t=void 0,i=new H(n);e.lengthComputable&&(t=e.loaded/e.total,i.show(t))}),_.onreadystatechange=function(){var e=void 0;if(4===_.readyState){if(_.status<200||_.status>=300)return m.error&&"function"==typeof m.error&&m.error(_,n),void t._alert(""," "+_.status);if("object"!==(void 0===(e=_.responseText)?"undefined":Y(e)))try{e=JSON.parse(e)}catch(i){return m.fail&&"function"==typeof m.fail&&m.fail(_,n,e),void t._alert("",": "+e)}m.customInsert||"0"==e.errno?(m.customInsert&&"function"==typeof m.customInsert?m.customInsert(t.insertLinkImg.bind(t),e,n):(e.data||[]).forEach((function(e){t.insertLinkImg(e)})),m.success&&"function"==typeof m.success&&m.success(_,n,e)):(m.fail&&"function"==typeof m.fail&&m.fail(_,n,e),t._alert(""," errno="+e.errno))}},m.before&&"function"==typeof m.before){var R=m.before(_,n,y);if(R&&"object"===(void 0===R?"undefined":Y(R))&&R.prevent)return void this._alert(R.msg)}return a(p,(function(e,t){_.setRequestHeader(e,t)})),_.withCredentials=A,void _.send(b)}o&&s(e,(function(e){var n=t,i=new FileReader;i.readAsDataURL(e),i.onload=function(){n.insertLinkImg(this.result)}}))}}}}};var G=1;function q(e,t){if(null==e)throw new Error("");this.id="wangEditor-"+G++,this.toolbarSelector=e,this.textSelector=t,this.customConfig={}}q.prototype={constructor:q,_initConfig:function(){this.config=Object.assign({},r,this.customConfig);var e=this.config.lang||{},t=[];a(e,(function(e,n){t.push({reg:new RegExp(e,"img"),val:n})})),this.config.langArgs=t},_initDom:function(){var e=this,t=i(this.toolbarSelector),n=this.textSelector,r=this.config,o=r.zIndex,a=void 0,s=void 0,l=void 0,u=void 0;null==n?(a=i("<div></div>"),s=i("<div></div>"),u=t.children(),t.append(a).append(s),a.css("background-color","#f1f1f1").css("border","1px solid #ccc"),s.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(a=t,u=(s=i(n)).children()),(l=i("<div></div>")).attr("contenteditable","true").css("width","100%").css("height","100%"),u&&u.length?l.append(u):l.append(i("<p><br></p>")),s.append(l),a.addClass("w-e-toolbar"),s.addClass("w-e-text-container"),s.css("z-index",o),l.addClass("w-e-text");var f=c("toolbar-elem");a.attr("id",f);var d=c("text-elem");l.attr("id",d),this.$toolbarElem=a,this.$textContainerElem=s,this.$textElem=l,this.toolbarElemId=f,this.textElemId=d;var h=!0;s.on("compositionstart",(function(){h=!1})),s.on("compositionend",(function(){h=!0})),s.on("click keyup",(function(){h&&e.change&&e.change()})),a.on("click",(function(){this.change&&this.change()})),(r.onfocus||r.onblur)&&(this.isFocus=!1,i(document).on("click",(function(t){var n=l.isContain(i(t.target)),r=a.isContain(i(t.target)),o=a[0]==t.target;if(n)e.isFocus||e.onfocus&&e.onfocus(),e.isFocus=!0;else{if(r&&!o)return;e.isFocus&&e.onblur&&e.onblur(),e.isFocus=!1}})))},_initCommand:function(){this.cmd=new z(this)},_initSelectionAPI:function(){this.selection=new Q(this)},_initUploadImg:function(){this.uploadImg=new $(this)},_initMenus:function(){this.menus=new L(this),this.menus.init()},_initText:function(){this.txt=new j(this),this.txt.init()},initSelection:function(e){var t=this.$textElem,n=t.children();if(!n.length)return t.append(i("<p><br></p>")),void this.initSelection();var r=n.last();if(e){var o=r.html().toLowerCase(),a=r.getNodeName();if("<br>"!==o&&"<br/>"!==o||"P"!==a)return t.append(i("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(r,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var e=0,t=this.txt.html(),n=this.config,i=n.onchangeTimeout;(!(i=parseInt(i,10))||i<=0)&&(i=200);var r=n.onchange;r&&"function"==typeof r&&(this.change=function(){var n=this.txt.html();n.length===t.length&&n===t||(e&&clearTimeout(e),e=setTimeout((function(){r(n),t=n}),i))});var o=n.onblur;o&&"function"==typeof o&&(this.onblur=function(){var e=this.txt.html();o(e)});var a=n.onfocus;a&&"function"==typeof a&&(this.onfocus=function(){a()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){i.offAll()}};try{document}catch(e){throw new Error("")}"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});var V=document.createElement("style");return V.type="text/css",V.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /*  */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /*  emotion panel  */  /*  panel  */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /*  */  /*  */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',document.getElementsByTagName("HEAD").item(0).appendChild(V),window.wangEditor||q}()},function(e,t){e.exports=require("vue")},function(e){e.exports=JSON.parse('{"form.pleaseEnter":"Please enter ","form.pleaseSelect":"Please select ","form.startDate":"Start Date","form.endDate":"End Date","form.rangeSeparator":"to","form.search":"Search","form.reset":"Reset","form.unknownType":"No such type"}')},function(e){e.exports=JSON.parse('{"form.pleaseEnter":"","form.pleaseSelect":"","form.startDate":"","form.endDate":"","form.rangeSeparator":"","form.search":"","form.reset":"","form.unknownType":""}')},function(e,t,n){var i=n(29),r=n(30),o=n(52),a=n(53);function s(e,t,n,o,a){var s=[].slice.call(arguments,1),c=s.length,l="function"==typeof s[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=o=void 0):2!==c||t.getContext||(o=n,n=t,t=void 0),new Promise((function(i,a){try{var s=r.create(n,o);i(e(s,t,o))}catch(e){a(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=t,t=o=void 0):3===c&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{var u=r.create(n,o);a(null,e(u,t,o))}catch(e){a(e)}}t.create=r.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return a.render(e,n)}))},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,c=0;c<a;c++)if(r[c]!==o[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(54))},function(e,t,n){"use strict";n(6)},function(e,t,n){"use strict";n(7)},function(e,t,n){"use strict";n(8)},function(e,t,n){"use strict";n(9)},function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(e,t,n){var i=n(2),r=n(0),o=n(5),a=n(31),s=n(32),c=n(33),l=n(34),u=n(35),f=n(10),d=n(36),h=n(44),p=n(45),m=n(1),g=n(46),A=n(4);function v(e,t,n){var i,r,o=e.size,a=p.getEncodedBits(t,n);for(i=0;i<15;i++)r=1==(a>>i&1),i<6?e.set(i,8,r,!0):i<8?e.set(i+1,8,r,!0):e.set(o-15+i,8,r,!0),i<8?e.set(8,o-i-1,r,!0):i<9?e.set(8,15-i-1+1,r,!0):e.set(8,15-i-1,r,!0);e.set(o-8,8,1,!0)}function y(e,t,n){var o=new a;n.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),m.getCharCountIndicator(t.mode,e)),t.write(o)}));var s=8*(r.getSymbolTotalCodewords(e)-f.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var c=(s-o.getLengthInBits())/8,l=0;l<c;l++)o.put(l%2?17:236,8);return function(e,t,n){for(var o=r.getSymbolTotalCodewords(t),a=f.getTotalCodewordsCount(t,n),s=o-a,c=f.getBlocksCount(t,n),l=c-o%c,u=Math.floor(o/c),h=Math.floor(s/c),p=h+1,m=u-h,g=new d(m),A=0,v=new Array(c),y=new Array(c),w=0,b=i.from(e.buffer),E=0;E<c;E++){var x=E<l?h:p;v[E]=b.slice(A,A+x),y[E]=g.encode(v[E]),A+=x,w=Math.max(w,x)}var _,R,I=i.alloc(o),C=0;for(_=0;_<w;_++)for(R=0;R<c;R++)_<v[R].length&&(I[C++]=v[R][_]);for(_=0;_<m;_++)for(R=0;R<c;R++)I[C++]=y[R][_];return I}(o,e,t)}function w(e,t,n,i){var o;if(A(e))o=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var a=t;if(!a){var f=g.rawSplit(e);a=h.getBestVersionForData(f,n)}o=g.fromString(e,a||40)}var d=h.getBestVersionForData(o,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else t=d;var p=y(t,n,o),m=r.getSymbolSize(t),w=new s(m);return function(e,t){for(var n=e.size,i=l.getPositions(t),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?e.set(o+s,a+c,!0,!0):e.set(o+s,a+c,!1,!0))}(w,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var i=n%2==0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}(w),function(e,t){for(var n=c.getPositions(t),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(r+a,o+s,!0,!0):e.set(r+a,o+s,!1,!0)}(w,t),v(w,n,0),t>=7&&function(e,t){for(var n,i,r,o=e.size,a=h.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),i=s%3+o-8-3,r=1==(a>>s&1),e.set(n,i,r,!0),e.set(i,n,r,!0)}(w,t),function(e,t){for(var n=e.size,i=-1,r=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(r,s-c)){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1)),e.set(r,s-c,l),-1===--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(w,p),isNaN(i)&&(i=u.getBestMask(w,v.bind(null,w,n))),u.applyMask(i,w),v(w,n,i),{modules:w,version:t,errorCorrectionLevel:n,maskPattern:i,segments:o}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,i,a=o.M;return void 0!==t&&(a=o.from(t.errorCorrectionLevel,o.M),n=h.from(t.version),i=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),w(e,n,a,i)}},function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var i=n(2);function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=i.alloc(e*e),this.reservedBit=i.alloc(e*e)}r.prototype.set=function(e,t,n,i){var r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},function(e,t,n){var i=n(0).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=i(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7],a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},t.getPositions=function(e){for(var n=[],i=t.getRowColCoords(e),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},function(e,t,n){var i=n(0).getSymbolSize;t.getPositions=function(e){var t=i(e);return[[0,0],[t-7,0],[0,t-7]]}},function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,i=3,r=40,o=10;function a(e,n,i){switch(e){case t.Patterns.PATTERN000:return(n+i)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(n+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return n*i%2+n*i%3==0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,i=0,r=0,o=0,a=null,s=null,c=0;c<t;c++){r=o=0,a=s=null;for(var l=0;l<t;l++){var u=e.get(c,l);u===a?r++:(r>=5&&(i+=n+(r-5)),a=u,r=1),(u=e.get(l,c))===s?o++:(o>=5&&(i+=n+(o-5)),s=u,o=1)}r>=5&&(i+=n+(r-5)),o>=5&&(i+=n+(o-5))}return i},t.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==a&&0!==a||n++}return n*i},t.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,o=0,a=0;a<t;a++){i=o=0;for(var s=0;s<t;s++)i=i<<1&2047|e.get(a,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&n++}return n*r},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,i=0;i<n;i++)t+=e.data[i];return Math.abs(Math.ceil(100*t/n/5)-10)*o},t.applyMask=function(e,t){for(var n=t.size,i=0;i<n;i++)for(var r=0;r<n;r++)t.isReserved(r,i)||t.xor(r,i,a(e,r,i))},t.getBestMask=function(e,n){for(var i=Object.keys(t.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),t.applyMask(a,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<o&&(o=s,r=a)}return r}},function(e,t,n){var i=n(2),r=n(37),o=n(39).Buffer;function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=i.alloc(this.degree),n=o.concat([e,t],e.length+this.degree),a=r.mod(n,this.genPoly),s=this.degree-a.length;if(s>0){var c=i.alloc(this.degree);return a.copy(c,s),c}return a},e.exports=a},function(e,t,n){var i=n(2),r=n(38);t.mul=function(e,t){for(var n=i.alloc(e.length+t.length-1),o=0;o<e.length;o++)for(var a=0;a<t.length;a++)n[o+a]^=r.mul(e[o],t[a]);return n},t.mod=function(e,t){for(var n=i.from(e);n.length-t.length>=0;){for(var o=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],o);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=i.from([1]),o=0;o<e;o++)n=t.mul(n,[1,r.exp(o)]);return n}},function(e,t,n){var i=n(2),r=i.alloc(512),o=i.alloc(256);!function(){for(var e=1,t=0;t<255;t++)r[t]=e,o[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)r[t]=r[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[o[e]+o[t]]}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(41),r=n(42),o=n(43);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function A(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function y(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,i){return Q(j(t,e.length-n),e,n,i)}function b(e,t,n,i){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function E(e,t,n,i){return b(e,t,n,i)}function x(e,t,n,i){return Q(z(t),e,n,i)}function _(e,t,n,i){return Q(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function R(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,l=e[r],u=null,f=l>239?4:l>223?3:l>191?2:1;if(r+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=e.slice(t,n),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function T(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function B(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function k(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,o){return o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,o){return o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:j(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(40))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?r-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+f],f+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+f],f+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,f=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*c-1)*Math.pow(2,r),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var i=n(0),r=n(10),o=n(5),a=n(1),s=n(11),c=n(4),l=i.getBCHDigit(7973);function u(e,t){return a.getCharCountIndicator(e,t)+4}function f(e,t){var n=0;return e.forEach((function(e){var i=u(e.mode,t);n+=i+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(i.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;var c=o-u(n,e);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){var i,r=o.from(n,o.M);if(c(e)){if(e.length>1)return function(e,n){for(var i=1;i<=40;i++){if(f(e,i)<=t.getCapacity(i,n,a.MIXED))return i}}(e,r);if(0===e.length)return 1;i=e[0]}else i=e;return function(e,n,i){for(var r=1;r<=40;r++)if(n<=t.getCapacity(r,i,e))return r}(i.mode,i.getLength(),r)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;i.getBCHDigit(t)-l>=0;)t^=7973<<i.getBCHDigit(t)-l;return e<<12|t}},function(e,t,n){var i=n(0),r=i.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,o=n<<10;i.getBCHDigit(o)-r>=0;)o^=1335<<i.getBCHDigit(o)-r;return 21522^(n<<10|o)}},function(e,t,n){var i=n(1),r=n(47),o=n(48),a=n(49),s=n(50),c=n(12),l=n(0),u=n(51);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var i,r=[];null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function h(e){var t,n,r=d(c.NUMERIC,i.NUMERIC,e),o=d(c.ALPHANUMERIC,i.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=d(c.BYTE,i.BYTE,e),n=d(c.KANJI,i.KANJI,e)):(t=d(c.BYTE_KANJI,i.BYTE,e),n=[]),r.concat(o,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case i.NUMERIC:return r.getBitsLength(e);case i.ALPHANUMERIC:return o.getBitsLength(e);case i.KANJI:return s.getBitsLength(e);case i.BYTE:return a.getBitsLength(e)}}function m(e,t){var n,c=i.getBestModeForData(e);if((n=i.from(t,c))!==i.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(c));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(e);case i.ALPHANUMERIC:return new o(e);case i.KANJI:return new s(e);case i.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var r=function(e,t){for(var n={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],c=[],l=0;l<s.length;l++){var u=s[l],f=""+a+l;c.push(f),n[f]={node:u,lastCount:0},r[f]={};for(var d=0;d<o.length;d++){var h=o[d];n[h]&&n[h].node.mode===u.mode?(r[h][f]=p(n[h].lastCount+u.length,u.mode)-p(n[h].lastCount,u.mode),n[h].lastCount+=u.length):(n[h]&&(n[h].lastCount=u.length),r[h][f]=p(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,t))}}o=c}for(d=0;d<o.length;d++)r[o[d]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case i.NUMERIC:t.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:t.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:t.push([r,{data:r.data,mode:i.BYTE,length:f(r.data)}]);break;case i.BYTE:t.push([{data:r.data,mode:i.BYTE,length:f(r.data)}])}}return t}(h(e,l.isKanjiModeEnabled())),n),o=u.find_path(r.map,"start","end"),a=[],s=1;s<o.length-1;s++)a.push(r.table[o[s]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},t.rawSplit=function(e){return t.fromArray(h(e,l.isKanjiModeEnabled()))}},function(e,t,n){var i=n(1);function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);var r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,3*r+1))},e.exports=r},function(e,t,n){var i=n(1),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*r.indexOf(this.data[t]);n+=r.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},function(e,t,n){var i=n(2),r=n(1);function o(e){this.mode=r.BYTE,this.data=i.from(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},function(e,t,n){var i=n(1),r=n(0);function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},function(e,t,n){"use strict";var i={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var a,s,c,l,u,f,d,h=i.PriorityQueue.make();for(h.push(t,0);!h.empty();)for(c in s=(a=h.pop()).value,l=a.cost,u=e[s]||{})u.hasOwnProperty(c)&&(f=l+u[c],d=o[c],(void 0===o[c]||d>f)&&(o[c]=f,h.push(c,f),r[c]=s));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(p)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse(),n},find_path:function(e,t,n){var r=i.single_source_shortest_paths(e,t,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=i.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=i},function(e,t,n){var i=n(13);t.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=i.getOptions(r);var a=i.getImageWidth(e.modules.size,r),s=o.getContext("2d"),c=s.createImageData(a,a);return i.qrToImageData(c.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(c,0,0),o},t.renderToDataURL=function(e,n,i){var r=i;void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={});var o=t.render(e,n,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}},function(e,t,n){var i=n(13);function r(e,t){var n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(e,t,n){var i=e+t;return void 0!==n&&(i+=" "+n),i}t.render=function(e,t,n){var a=i.getOptions(t),s=e.modules.size,c=e.modules.data,l=s+2*a.margin,u=a.color.light.a?"<path "+r(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",f="<path "+r(a.color.dark,"stroke")+' d="'+function(e,t,n){for(var i="",r=0,a=!1,s=0,c=0;c<e.length;c++){var l=Math.floor(c%t),u=Math.floor(c/t);l||a||(a=!0),e[c]?(s++,c>0&&l>0&&e[c-1]||(i+=a?o("M",l+n,.5+u+n):o("m",r,0),r=0,a=!1),l+1<t&&e[c+1]||(i+=o("h",s),s=0)):r++}return i}(c,s,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+f+"</svg>\n";return"function"==typeof n&&n(null,h),h}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&h())}function h(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n(14)},function(e,t,n){"use strict";n(15)},function(e,t,n){"use strict";n(16)},function(e,t,n){"use strict";n(17)},function(e,t,n){"use strict";n(18)},function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.r(t),n.d(t,"KeAudioFix",(function(){return v})),n.d(t,"KeCheckVersion",(function(){return E})),n.d(t,"KeColumn",(function(){return _})),n.d(t,"KeEditor",(function(){return T})),n.d(t,"KeFormItem",(function(){return z})),n.d(t,"KeFormModel",(function(){return K})),n.d(t,"KePaging",(function(){return Z})),n.d(t,"KeQrCode",(function(){return re})),n.d(t,"KeSidebar",(function(){return Ae})),n.d(t,"KeSidebarFlexible",(function(){return pe})),n.d(t,"KeTable",(function(){return xe})),n.d(t,"KeToBack",(function(){return Ce})),n.d(t,"KeUnfinished",(function(){return Oe})),n.d(t,"KeUploadAli",(function(){return ze})),n.d(t,"componentUI",(function(){return Ve})),n.d(t,"setLang",(function(){return F}));var o="#F56C6C",a="#909399",s=function(e){return 1===e.length?"0"+e:e},c=function(e){var t="#"===e.substr(0,1)?e.substr(1):e,n=[];if([3,4].includes(t.length))n=t.split("").map((function(e){return 17*parseInt(e,16)}));else for(var i=0;i<t.length;i+=2)n.push(parseInt(t.substr(i,2),16));return n.length>3&&(n[3]=Math.round(n[3]/255*100)/100),n},l=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hexColor",l=[];t="string"==typeof e?c(e):i(e),n="string"==typeof r?c(r):i(r),3===t.length&&3===n.length||(3===t.length&&(t[3]=1),3===n.length&&(n[3]=1));for(var u=0;u<o;u++){var f=u/(o-1),d=1-f,h="";"hexColor"===a&&(h="#");for(var p=[],m=0;m<t.length;m++){var g=void 0;g=3===m?Math.round(100*(t[m]*d+n[m]*f))/100:Math.round(t[m]*d+n[m]*f),["hex","hexColor"].includes(a)?(3===m&&(g=Math.round(255*g)),h+=s(g.toString(16))):p.push(g)}["hex","hexColor"].includes(a)?l.push(h):l.push(p)}return l},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#409EFF",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n="margin:0 3px;padding:3px;";if("default"===t)n+="color:#fff;background:".concat(e,";border:1px solid ").concat(e,";border-radius:3px;");else if("plain"===t){var i=l(e);n+="color:".concat(e,";background:").concat(i[9],";border:1px solid ").concat(i[6],";border-radius:3px;")}else n+="color:#606266;background:transparent;border:1px solid #DCDFE6;border-radius:3px;";return n},f=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n="%climbo-vue-components",i=["padding:5px;color:#fadfa3;background:#030307;border:1px solid #fff;border-radius:5px;"],r=[];t.forEach((function(e){"original"===e.type?r.push(e.message):(n+="%c"+e.message,i.push(e.style))})),(e=console).log.apply(e,[n].concat(i,r))},d=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"audio-fix"},[t("el-tooltip",{staticClass:"tooltip-icon",attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[this._v("\n      \n    ")]),t("i",{staticClass:"iconfont icon-xiufu",on:{click:this.openFix}})]),t("DialogFix",{attrs:{"audio-params":this.audioParams,"append-to-body":this.appendToBody},on:{audioFix:this.audioFix}})],1)};d._withStripped=!0;var h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"","before-close":e.cancel,visible:e.audioParams.visible,"append-to-body":e.appendToBody,width:"420px"},on:{"update:visible":function(t){e.$set(e.audioParams,"visible",t)}}},[n("div",[n("span",[e._v("")]),n("el-input-number",{staticClass:"config-number",attrs:{placeholder:"",min:1,max:1e11,precision:0,controls:!1},model:{value:e.config.sampleRate,callback:function(t){e.$set(e.config,"sampleRate",t)},expression:"config.sampleRate"}}),n("span",{staticClass:"ml10"},[e._v("")]),n("el-input-number",{staticClass:"config-number",attrs:{placeholder:"",min:1,max:1e11,precision:0,controls:!1},model:{value:e.config.sampleBits,callback:function(t){e.$set(e.config,"sampleBits",t)},expression:"config.sampleBits"}})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("\n       \n    ")]),n("el-button",{on:{click:e.cancel}},[e._v("\n       \n    ")])],1)])};h._withStripped=!0;var p={name:"DialogFix",components:{},props:{audioParams:{type:Object,default:function(){return{visible:!1}}},appendToBody:{type:Boolean,default:!0}},data:function(){return{config:{sampleRate:(new(window.webkitAudioContext||window.AudioContext)).sampleRate||44100,sampleBits:16}}},methods:{cancel:function(){this.audioParams.visible=!1},save:function(){this.$emit("audioFix",this.config),this.cancel()}}};n(25);function m(e,t,n,i,r,o,a,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:l}}var g={name:"KeAudioFix",components:{DialogFix:m(p,h,[],!1,null,"152f2637",null).exports},props:{appendToBody:{type:Boolean,default:!0}},data:function(){return{audioParams:{visible:!1}}},mounted:function(){this.init()},methods:{init:function(){},openFix:function(){this.audioParams.visible=!0},audioFix:function(e){this.$emit("audioFix",e)}}},A=(n(26),m(g,d,[],!1,null,"f9938d46",null).exports);A.install=function(e){e.component(A.name,A)};var v=A,y=document.getElementsByTagName("script");var w=function(e){var t=e.url,n=e.path,i=e.license,r=e.timeout,o=void 0===r?3e5:r,a=e.hashKey,s=void 0===a?"hash":a,c=e.cb,l=setInterval((function(){if(i){var e=new XMLHttpRequest,r=t||"//".concat(location.host).concat(n,"/version.json");e.onload=function(t){if(4!==e.readyState)return;if(200!==e.status)return;var n;try{n=JSON.parse(e.response)}catch(e){n={}}if(!Array.from(y).some((function(e){if(e.src&&e.src.includes(n[s]))return!0}))){var i={xhr:e,response:t,times:l,JSONInfo:n};c&&c(i)}},e.timeout=3e4,e.open("GET","".concat(r,"?t=").concat(+new Date),!0),e.send()}else clearInterval(l)}),o)},b=m({name:"KeCheckVersion",props:{url:{type:String,default:""},path:{type:String,default:""},license:{type:Boolean,default:!0},hashKey:{type:String,default:"hash"},silenceKey:{type:String,default:"silence"},timeout:{type:Number,default:3e4}},mounted:function(){this.init()},methods:{init:function(){var e=this.path||"/".concat(location.pathname.split("/")[1]);w({cb:this.findNewVersion,timeout:this.timeout,license:this.license,hashKey:this.hashKey,url:this.url,path:e})},findNewVersion:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.JSONInfo,i=void 0===n?{}:n;"true"!==i[this.silenceKey]&&(this.$listeners.findVersion?this.$emit("findVersion",t):(clearInterval(t.times),this.$ElMessageBox.alert(" <> ","",{lockScroll:!1,confirmButtonText:"",callback:function(t){"confirm"===t?location.reload():e.init()}})))}}},void 0,void 0,!1,null,null,null).exports;b.install=function(e){e.component(b.name,b)};var E=b,x={name:"KeColumn",functional:!0,components:{},render:function(e,t){return function t(n){return n.map((function(n,i){var r,o;r=!1===n.columnKey?"".concat(+new Date).concat(i):n.columnKey||n.prop||"".concat(+new Date).concat(i),n.header?o=function(t){return n.header(e,t)}:n.labelI18n&&(o=n.labelI18n);var a={props:n,key:r,scopedSlots:{default:n.render?function(t){return n.render(e,t)}:void 0,header:o}};return n.children?e("el-table-column",a,t(n.children)):e("el-table-column",a)}))}(t.props.cols||[])},install:function(e){e.component(x.name,x)}},_=x,R=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"editor",staticClass:"content"})};R._withStripped=!0;var I=n(19),C=n.n(I),S=m({name:"KeEditor",props:{config:{type:Object,default:function(){return{action:"/counselor-assistant/image/upload",name:"files",data:{purpose:"temp"}}}},toolbar:{type:Array,default:function(){return["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","image","video","code","undo","redo"]}},colors:{type:Array,default:function(){return["#000000","#eeece0","#0000ff","#4d80bf","#ff0000","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"]}},value:{type:String,default:""}},data:function(){return{editor:null,currentValue:this.value}},mounted:function(){this.init()},methods:{init:function(){this.editor=new C.a(this.$refs.editor),this.setEditorConfig(),this.setEditorEvent(),this.editor.create()},setEditorConfig:function(){this.editor.customConfig.uploadImgServer=this.config.action,this.editor.customConfig.uploadFileName=this.config.name||"files",this.editor.customConfig.uploadImgTimeout=this.config.timeout||6e4,this.editor.customConfig.uploadImgParams=this.config.data||{purpose:"temp"},this.editor.customConfig.colors=this.colors,this.editor.customConfig.menus=this.toolbar},setEditorEvent:function(){var e=this;this.editor.customConfig.onchange=function(t){e.currentValue=t},this.editor.customConfig.uploadImgHooks={success:function(e,t,n){},fail:function(e,t,n){},error:function(e,t){},customInsert:function(e,t,n){t.data&&t.data.forEach((function(t){e(t.url)}))}}},setContent:function(e){this.editor.txt.html(e),this.currentValue=e},getContent:function(){return this.currentValue}},watch:{value:function(e){this.currentValue!==e&&(this.currentValue=e,this.editor.txt.html(e))},currentValue:function(e,t){e!==t&&(this.$emit("change",e),this.$emit("input",e))}}},R,[],!1,null,"7fd0f2cc",null).exports;S.install=function(e){e.component(S.name,S)};var T=S,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",e._b({ref:"form",staticClass:"form",attrs:{"label-position":e.checkDefault(e.formItem,["attrs","labelPosition"],"right")},nativeOn:{submit:function(e){e.preventDefault()}}},"el-form",e.formItem.attrs,!1),[n("el-row",{staticClass:"row-wrap",attrs:{gutter:e.formItem.gutter||0}},[e._l(e.formListFilter,(function(t,i){return n("el-col",{key:i,attrs:{span:t.span||e.formItem.span}},[n("el-form-item",e._b({attrs:{label:"function"==typeof t.name?t.name():t.name}},"el-form-item",t.headerAttrs,!1),["input"===t.type?[n("el-input",e._b({attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseEnter")+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-input",t.contentAttrs,!1))]:"textarea"===t.type?[n("el-input",e._b({attrs:{type:"textarea",clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseEnter")+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-input",t.contentAttrs,!1))]:"inputNumber"===t.type?[n("el-input-number",e._b({staticClass:"w100",attrs:{controls:e.checkDefault(t,["contentAttrs","controls"],!1),min:e.checkDefault(t,["contentAttrs","min"],0),max:e.checkDefault(t,["contentAttrs","max"],1e17),precision:e.checkDefault(t,["contentAttrs","precision"],0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseEnter")+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-input-number",t.contentAttrs,!1))]:"select"===t.type?[n("el-select",e._b({staticClass:"w100",attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),filterable:e.checkDefault(t,["contentAttrs","filterable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseSelect")+t.name)},on:{change:function(n){return e.selectChange(t,n)}},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-select",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-option",{key:r,attrs:{disabled:i[t.params.optionDisabled],label:e.checkI18n(i[t.params.optionVal]),value:i[t.params.optionKey]}})})),1)]:"switch"===t.type?[n("el-switch",e._b({model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-switch",t.contentAttrs,!1))]:"cascader"===t.type?[n("el-cascader",e._b({staticClass:"w100",attrs:{options:e.checkOptions(e.options[t.params.option]),clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),filterable:e.checkDefault(t,["contentAttrs","filterable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseSelect")+t.name)},on:{change:function(n){return e.cascaderChange(t,n)},"active-item-change":function(n){return e.cascaderActive(t,n)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-cascader",t.contentAttrs,!1))]:"radio"===t.type?[n("el-radio-group",e._b({on:{change:function(n){return e.radioChange(t,n)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-radio-group",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-radio",{key:r,attrs:{label:e.checkI18n(i[t.params.optionKey]),disabled:i[t.params.optionDisabled]}},[e._v("\n              "+e._s(i[t.params.optionVal])+"\n            ")])})),1)]:"checkBox"===t.type?[n("el-checkbox-group",e._b({model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-checkbox-group",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-checkbox",{key:r,attrs:{label:e.checkI18n(i[t.params.optionKey]),disabled:i[t.params.optionDisabled]}},[e._v("\n              "+e._s(i[t.params.optionVal])+"\n            ")])})),1)]:"dateTimePicker"===t.type?[n("el-date-picker",e._b({style:e.checkDefault(t,["contentAttrs","style"],"width:100%"),attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),editable:e.checkDefault(t,["contentAttrs","editable"],!1),"value-format":e.checkDefault(t,["contentAttrs","valueFormat"],"timestamp"),"range-separator":e.checkDefault(t,["contentAttrs","rangeSeparator"],e.translate("form.rangeSeparator")),"start-placeholder":e.checkDefault(t,["contentAttrs","startPlaceholder"],e.translate("form.startDate")),"end-placeholder":e.checkDefault(t,["contentAttrs","endPlaceholder"],e.translate("form.endDate")),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+e.translate("form.pleaseSelect")+t.name)},on:{change:function(n){return e.changeDateTimePicker(n,t)}},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},"el-date-picker",t.contentAttrs,!1))]:"render"===t.type?[n("RenderItem",{attrs:{item:t}})]:[n("span",[e._v(e._s(e.translate("form.unknownType")))])]],2)],1)})),e.formItem.btnObj?n("el-col",{attrs:{span:e.formItem.btnObj.span||e.formItem.span}},[n("el-form-item",e._b({attrs:{"label-width":e.checkDefault(e.formItem.btnObj,["attrs","labelWidth"],"0px")}},"el-form-item",e.formItem.btnObj.attrs,!1),[e._t("default",[n("div",{class:e.formItem.btnObj.className},[!e.formItem.btnObj.showList||e.formItem.btnObj.showList.includes("search")?n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("\n              "+e._s(e.checkDefault(e.formItem.btnObj,["searchName"],e.translate("form.search")))+"\n            ")]):e._e(),!e.formItem.btnObj.showList||e.formItem.btnObj.showList.includes("reset")?n("el-button",{on:{click:e.reset}},[e._v("\n              "+e._s(e.checkDefault(e.formItem.btnObj,["resetName"],e.translate("form.reset")))+"\n            ")]):e._e()],1)])],2)],1):e._e()],2)],1)};B._withStripped=!0;var O={name:"RenderItem",functional:!0,props:{item:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props.item;return n.render(e,n)}},D=n(20),k=n.n(D),M=n(21),N={zh_cn:n(22),en_us:M},P=k.a.observable({lang:localStorage.getItem("language")||"zh_cn"});function F(e){N[e]&&(P.lang=e)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.addEventListener("storage",(function(e){"language"===e.key&&N[e.newValue]&&(P.lang=e.newValue)}));var U={name:"KeFormItem",inheritAttrs:!1,components:{RenderItem:O},props:{formItem:{type:Object,default:function(){return{attrs:{},gutter:10,span:8,btnObj:{}}}},formList:[Object,Array],options:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{formListFilter:function(){return this.formList.filter((function(e){return e.visible&&e.visible.constructor===Function?e.visible():void 0===e.visible||e.visible}))}},mounted:function(){},methods:{translate:function(e){return N[P.lang]?N[P.lang][e]:e},checkDefault:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=t.reduce((function(e,t,n,i){var r;return void 0===e[t]?r=n===i.length-1?void 0:{}:(r=e[t],n===i.length-1&&"function"==typeof r&&(r=r())),r}),e);if("limboUndefined"!==i)return void 0!==i?i:n},checkI18n:function(e){return"function"==typeof e?e():e},checkOptions:function(e){for(var t,n=[{source:e,target:t=e.constructor===Array?[]:{}}];n.length;){var i=n.shift(),r=i.source,o=i.target;for(var a in r){var s=r[a];s&&"object"===L(s)?(s.constructor===Array?o[a]=[]:o[a]={},n.push({source:s,target:o[a]})):o[a]="label"===a?this.checkI18n(s):s}}return t},radioChange:function(e,t){this.$listeners.radioChange&&this.$emit("radioChange",{item:e,val:t})},selectChange:function(e,t){this.$listeners.selectChange&&this.$emit("selectChange",{item:e,val:t})},cascaderChange:function(e,t){this.$listeners.cascaderChange&&this.$emit("cascaderChange",{item:e,val:t})},cascaderActive:function(e,t){this.$listeners.cascaderActive&&this.$emit("cascaderActive",{item:e,val:t})},search:function(){this.$listeners.search&&this.$emit("search")},reset:function(){this.resetParams(),this.$emit("reset"),this.$ElMessage({message:this.checkDefault(this.formItem.btnObj,["resetMessage"],""),type:"success",duration:2e3})},changeDateTimePicker:function(e,t){var n=this;e||setTimeout((function(){var e;n.checkValueType(t)&&(e=[]),t.val=e}))},checkValueType:function(e){return"checkBox"===e.type||"dateTimePicker"===e.type&&e.contentAttrs&&e.contentAttrs.type&&e.contentAttrs.type.includes("range")||"select"===e.type&&e.contentAttrs&&e.contentAttrs.multiple},getParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[""],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return this.formList.forEach((function(i){var r=e.includes(i.val),o=t.some((function(e){return e.val.includes(i[e.key])}));void 0===i.val||r||o||(n[i.key]=i.val)})),n},resetParams:function(){var e=this;this.formList.forEach((function(t){var n;e.checkValueType(t)&&(n=[]),t.val=n}))},setParams:function(e){this.formList.forEach((function(t){e.hasOwnProperty(t.key)&&(t.val=e[t.key])}))}}},j=(n(27),m(U,B,[],!1,null,"5af33a99",null).exports);j.install=function(e){e.component(j.name,j)};var z=j,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"form",attrs:{model:e.model,rules:e.rules,"label-position":e.checkDefault(e.formItem,["attrs","labelPosition"],"right")},nativeOn:{submit:function(e){e.preventDefault()}}},"el-form",e.formItem.attrs,!1),[n("el-row",{staticClass:"row-wrap",attrs:{gutter:e.formItem.gutter||0}},[e._l(e.formListFilter,(function(t,i){return n("el-col",{key:t.key||i,attrs:{span:t.span||e.formItem.span}},[n("el-form-item",e._b({attrs:{prop:t.headerAttrs&&t.headerAttrs.prop||t.key,label:"function"==typeof t.name?t.name():t.name}},"el-form-item",t.headerAttrs,!1),[t.renderLabel?n("RenderLabel",{attrs:{slot:"label",model:e.model,item:t},slot:"label"}):e._e(),"input"===t.type?[n("el-input",e._b({attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-input",t.contentAttrs,!1))]:"textarea"===t.type?[n("el-input",e._b({attrs:{type:"textarea",clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-input",t.contentAttrs,!1))]:"inputNumber"===t.type?[n("el-input-number",e._b({staticClass:"w100",attrs:{controls:e.checkDefault(t,["contentAttrs","controls"],!1),min:e.checkDefault(t,["contentAttrs","min"],0),max:e.checkDefault(t,["contentAttrs","max"],1e17),precision:e.checkDefault(t,["contentAttrs","precision"],0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-input-number",t.contentAttrs,!1))]:"select"===t.type?[n("el-select",e._b({staticClass:"w100",attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),filterable:e.checkDefault(t,["contentAttrs","filterable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},on:{change:function(n){return e.selectChange(t,n)}},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-select",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-option",{key:r,attrs:{disabled:i[t.params.optionDisabled],label:e.checkI18n(i[t.params.optionVal]),value:i[t.params.optionKey]}})})),1)]:"switch"===t.type?[n("el-switch",e._b({model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-switch",t.contentAttrs,!1))]:"cascader"===t.type?[n("el-cascader",e._b({staticClass:"w100",attrs:{options:e.checkOptions(e.options[t.params.option]),clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),filterable:e.checkDefault(t,["contentAttrs","filterable"],!0),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},on:{change:function(n){return e.cascaderChange(t,n)},"active-item-change":function(n){return e.cascaderActive(t,n)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-cascader",t.contentAttrs,!1))]:"radio"===t.type?[n("el-radio-group",e._b({on:{change:function(n){return e.radioChange(t,n)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-radio-group",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-radio",{key:r,attrs:{label:e.checkI18n(i[t.params.optionKey]),disabled:i[t.params.optionDisabled]}},[e._v("\n              "+e._s(i[t.params.optionVal])+"\n            ")])})),1)]:"checkBox"===t.type?[n("el-checkbox-group",e._b({model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-checkbox-group",t.contentAttrs,!1),e._l(e.options[t.params.option],(function(i,r){return n("el-checkbox",{key:r,attrs:{label:e.checkI18n(i[t.params.optionKey]),disabled:i[t.params.optionDisabled]}},[e._v("\n              "+e._s(i[t.params.optionVal])+"\n            ")])})),1)]:"dateTimePicker"===t.type?[n("el-date-picker",e._b({style:e.checkDefault(t,["contentAttrs","style"],"width:100%"),attrs:{clearable:e.checkDefault(t,["contentAttrs","clearable"],!0),editable:e.checkDefault(t,["contentAttrs","editable"],!1),"value-format":e.checkDefault(t,["contentAttrs","valueFormat"],"timestamp"),"range-separator":e.checkDefault(t,["contentAttrs","rangeSeparator"],""),"start-placeholder":e.checkDefault(t,["contentAttrs","startPlaceholder"],""),"end-placeholder":e.checkDefault(t,["contentAttrs","endPlaceholder"],""),placeholder:e.checkDefault(t,["contentAttrs","placeholder"],""+t.name)},on:{change:function(n){return e.changeDateTimePicker(n,t)}},model:{value:e.model[t.key],callback:function(n){e.$set(e.model,t.key,n)},expression:"model[item.key]"}},"el-date-picker",t.contentAttrs,!1))]:"button"===t.type?[n("el-button",e._b({on:{click:function(n){e.buttonClick(t)}}},"el-button",t.contentAttrs,!1),[e._v("\n            "+e._s(t.params.label)+"\n          ")])]:"text"===t.type?[n("RenderItem",{attrs:{model:e.model,item:t}})]:"renderJson"===t.type?[n("RenderJson",{attrs:{vue:e.$parent,model:e.model,options:e.options,item:t,props:t.props}})]:[n("span",[e._v("")])]],2)],1)})),e.formItem.btnObj?n("el-col",{attrs:{span:e.formItem.btnObj.span||e.formItem.span}},[n("el-form-item",e._b({},"el-form-item",e.formItem.btnObj.attrs,!1),[e._t("default",[n("div",{class:e.formItem.btnObj.className},[!e.formItem.btnObj.showList||e.formItem.btnObj.showList.includes("save")?n("el-button",e._b({attrs:{loading:e.saveLoading,type:"primary"},on:{click:e.save}},"el-button",e.formItem.btnObj.saveAttrs,!1),[e._v("\n              "+e._s(e.checkDefault(e.formItem.btnObj,["saveName"," "]))+"\n            ")]):e._e(),!e.formItem.btnObj.showList||e.formItem.btnObj.showList.includes("cancel")?n("el-button",e._b({on:{click:e.cancel}},"el-button",e.formItem.btnObj.cancelAttrs,!1),[e._v("\n              "+e._s(e.checkDefault(e.formItem.btnObj,["cancelName"," "]))+"\n            ")]):e._e()],1)])],2)],1):e._e()],2)],1)};function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Q._withStripped=!0;var V={name:"KeFormModel",inheritAttrs:!1,components:{RenderItem:{name:"RenderItem",functional:!0,props:{model:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,i=n.model,r=n.item;return r.render?r.render(e,i):e("span",{style:{"word-break":"break-all"}},[null,void 0,""].includes(i[r.key])?"-":i[r.key])}},RenderJson:{name:"RenderJson",functional:!0,props:{vue:{type:Object,default:function(){return{}}},model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},props:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,i=function(e,t){return e.split(".").reduce((function(e,t){return e[t]}),t)},r=function(t,r){var a=t.domIf,s=t.dom,c=t.options,l=t.attribute,u=void 0===l?{props:{}}:l,f=t.props,d=void 0===f?{}:f,h=t.on,p=t.children;if(!a||i(a.keys,n[a.source])){var m=u.key||r,g=function(e,t){var r={};for(var o in t){var a=t[o];if(a.constructor!==Object)r[o]=a;else{var s=n[a.source];a.vModel?r[o]=s[n.item.key]:r[o]=i(a.keys,s)}}return r}(0,d),A=function(e,t){var i={},r=function(){var e=t[o];i[o]=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(n.vue[e.onFn]({type:e.emit,payload:i}),e.vModel){var o=n[e.source],a=e.keys.split("."),s=a.reduce((function(e,t,n,i){return n===i.length-1?e:e[t]}),o);s[a[a.length-1]]=i[0]}}};for(var o in t)r();return i}(0,h);return c?i(c.keys,n.options).map((function(t,n){var r={};for(var a in c.params)r[a]=i(c.params[a],t);return e(s,$($({},u),{},{props:$($($({},u.props),g),r),on:$($({},u.on),A),key:"".concat(+new Date).concat(s).concat(n)}),o(t.children))})):e(s,$($({},u),{},{props:$($({},u.props),g),on:$($({},u.on),A),key:m}),o(p))}},o=function(e,t){if(e)return e.map((function(e){return e.constructor!==Object?e:r(e,"".concat(+new Date).concat(t))}))};return n.item.render?r(n.item.render):e("span","-")}},RenderLabel:{name:"RenderLabel",functional:!0,props:{model:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,i=n.model;return n.item.renderLabel(e,i)}}},props:{loading:{type:Boolean,default:!1},saveLoading:{type:Boolean,default:!1},formItem:{type:Object,default:function(){return{attrs:{},gutter:10,span:8,btnObj:{}}}},formList:[Object,Array],model:{type:Object,default:function(){return{}}},rules:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{formListFilter:function(){var e=this;return this.formList.filter((function(t){return t.visible&&t.visible.constructor===Function?t.visible(e.model):void 0===t.visible||t.visible}))}},mounted:function(){},methods:{checkDefault:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=t.reduce((function(e,t,n,i){var r;return void 0===e[t]?r=n===i.length-1?void 0:{}:(r=e[t],n===i.length-1&&"function"==typeof r&&(r=r())),r}),e);if("limboUndefined"!==i)return void 0!==i?i:n},checkI18n:function(e){return"function"==typeof e?e():e},checkOptions:function(e){for(var t,n=[{source:e,target:t=e.constructor===Array?[]:{}}];n.length;){var i=n.shift(),r=i.source,o=i.target;for(var a in r){var s=r[a];s&&"object"===q(s)?(s.constructor===Array?o[a]=[]:o[a]={},n.push({source:s,target:o[a]})):o[a]="label"===a?this.checkI18n(s):s}}return t},radioChange:function(e,t){this.$listeners.radioChange&&this.$emit("radioChange",{item:e,val:t})},selectChange:function(e,t){this.$listeners.selectChange&&this.$emit("selectChange",{item:e,val:t})},cascaderChange:function(e,t){this.$listeners.cascaderChange&&this.$emit("cascaderChange",{item:e,val:t})},cascaderActive:function(e,t){this.$listeners.cascaderActive&&this.$emit("cascaderActive",{item:e,val:t})},buttonClick:function(e){this.$emit("buttonClick",{item:e})},save:function(){var e=this;this.submitForm((function(){e.$emit("save")}))},cancel:function(){this.$emit("cancel")},changeDateTimePicker:function(e,t){var n=this;e||setTimeout((function(){var e;n.checkValueType(t)&&(e=[]),t.val=e}))},checkValueType:function(e){return"checkBox"===e.type||"dateTimePicker"===e.type&&e.contentAttrs&&e.contentAttrs.type&&e.contentAttrs.type.includes("range")||"select"===e.type&&e.contentAttrs&&e.contentAttrs.multiple},submitForm:function(e){var t=this;this.$refs.form.validate((function(n){n?e&&e():t.$ElMessage({message:t.checkDefault(t.formItem.btnObj,["submitMessage"],""),type:"error",duration:3e3})}))},resetForm:function(){this.$refs.form.resetFields()}}},J=(n(28),m(V,Q,[],!1,null,"5a09a37a",null).exports);J.install=function(e){e.component(J.name,J)};var K=J,X=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-pagination",e._g(e._b({staticClass:"paging",attrs:{"current-page":e.params.current,"page-size":e.params.pageSize,"page-sizes":e.pageSizes,layout:e.layout},on:{"update:currentPage":function(t){e.$set(e.params,"current",t)},"update:pageSize":function(t){e.$set(e.params,"pageSize",t)},"size-change":e.onSizeChange,"current-change":e.onCurrentChange}},"el-pagination",e.$attrs,!1),e.$listeners),[e._t("default")],2)};X._withStripped=!0;var W=m({name:"KePaging",inheritAttrs:!1,components:{},props:{params:{type:Object,default:function(){return{current:1,pageSize:10}}},pageSizes:{type:Array,default:function(){return[10,25,50]}},layout:{type:String,default:"->, total, sizes, prev, pager, next, jumper"}},methods:{onSizeChange:function(e){this.params.current=1,this.onCurrentChange()},onCurrentChange:function(e){this.$emit("currentPage",e)}}},X,[],!1,null,null,null).exports;W.install=function(e){e.component(W.name,W)};var Z=W,ee=function(){var e=this.$createElement;return(this._self._c||e)("canvas",{ref:"qrCode"})};ee._withStripped=!0;var te=n(23),ne=n.n(te),ie=m({name:"KeQrCode",props:{data:{type:String,default:"test"},option:{type:Object,default:function(){return{width:200,height:200,margin:0,color:{dark:"#409EFF",light:"#fff"}}}}},mounted:function(){this.init()},methods:{init:function(){this.createQr()},createQr:function(){var e=this;ne.a.toDataURL(this.$refs.qrCode,this.data,this.option,(function(t){t&&(e.$ElMessage({message:"",type:"error",duration:2e3}),console.error(t))}))}}},ee,[],!1,null,"408b865a",null).exports;ie.install=function(e){e.component(ie.name,ie)};var re=ie,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-sidebar"},[n("el-scrollbar",{staticClass:"scrollbar-wrapper",attrs:{"wrap-class":"scrollbar-wrapper"}},[n("el-menu",{attrs:{"show-timeout":200,"default-active":e.$route.path,collapse:e.isCollapse,mode:"vertical","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"}},[e._t("logo"),e._t("title"),e._l(e.permission_routers,(function(e,t){return n("SidebarItem",{key:e.name?e.name+t:t,attrs:{item:e,"base-path":e.path}})}))],2)],1),e.flexible?n("KeSidebarFlexible",{staticClass:"hamburger-container",attrs:{"is-active":e.isActive},on:{toggleClick:e.toggleClick}}):e._e()],1)};oe._withStripped=!0;var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.item.hidden&&e.item.children?n("div",{staticClass:"menu-wrapper"},[!e.hasOneShowingChild(e.item.children)||e.onlyOneChild.children||e.item.alwaysShow?n("el-submenu",{attrs:{index:e.item.name||e.item.path}},[n("template",{slot:"title"},[e.item.meta?n("Item",{attrs:{icon:e.item.meta.icon,title:e.item.meta.title}}):e._e()],1),e._l(e.item.children,(function(t,i){return[t.hidden?e._e():[t.children&&t.children.length>0?n("SidebarItem",{key:t.path?t.path+i:i,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}}):n("a",{key:t.name?t.name+i:i,attrs:{href:t.path,target:"_blank"},on:{click:function(n){e.clickLink(t,n)}}},[n("el-menu-item",{attrs:{index:e.resolvePath(t.path)}},[t.meta?n("Item",{attrs:{icon:t.meta.icon,title:t.meta.title}}):e._e()],1)],1)]]}))],2):[n("a",{attrs:{href:e.onlyOneChild.path,target:"_blank"},on:{click:function(t){e.clickLink(e.onlyOneChild,t)}}},[n("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[e.onlyOneChild.meta?n("Item",{attrs:{icon:e.onlyOneChild.meta.icon,title:e.onlyOneChild.meta.title}}):e._e()],1)],1)]],2):e._e()};ae._withStripped=!0;var se=m({name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var n=t.props,i=n.icon,r=n.title,o=[];if(i){var a="iconfont ".concat(i," mr10");o.push(e("i",{class:a}))}return r&&o.push(e("span",{slot:"title"},[r])),o}},void 0,void 0,!1,null,null,null).exports,ce=n(24),le=n.n(ce),ue=m({name:"SidebarItem",components:{Item:se},props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return{onlyOneChild:null}},methods:{hasOneShowingChild:function(e){var t=this,n=!1;return 1===e.filter((function(e){var n;return e.hidden?n=!1:(t.onlyOneChild=e,n=!0),n})).length&&(n=!0),n},resolvePath:function(e){return le.a.resolve(this.basePath,e)},isExternalLink:function(e){return this.validateURL(e)},validateURL:function(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)},clickLink:function(e,t){if(t.preventDefault(),e.sidebarFn&&e.sidebarFn(this),this.$tools.objProxy(e).meta.params._&&e.name)this.$tools.toRouter(this,e.name,e.meta.params);else if(!this.isExternalLink(e.path)){var n=this.resolvePath(e.path);if(n===this.$route.path)return;this.$router.push(n)}}}},ae,[],!1,null,null,null).exports,fe=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{title:""},on:{click:this.toggleClick}},[t("svg",{staticClass:"hamburger",class:{"is-active":this.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[t("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])};fe._withStripped=!0;var de={name:"KeSidebarFlexible",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},he=(n(55),m(de,fe,[],!1,null,"cb31f072",null).exports);he.install=function(e){e.component(he.name,he)};var pe=he,me={name:"KeSidebar",components:{SidebarItem:ue,KeSidebarFlexible:pe},props:{permission_routers:{type:Array,default:function(){return[]}},sidebar:{type:Object,default:function(){return{open:!0,withoutAnimation:!1}}},flexible:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1}},data:function(){return{}},computed:{isCollapse:function(){return!this.sidebar.opened}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},ge=(n(56),m(me,oe,[],!1,null,"64d68218",null).exports);ge.install=function(e){e.component(ge.name,ge)};var Ae=ge;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ve(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee={name:"KeTable",functional:!0,components:{},props:{cols:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{}}},params:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,i=n.cols,r=void 0===i?[]:i,o=n.data,a=void 0===o?[]:o,s=n.props,c=void 0===s?{}:s,l=n.params,u=void 0===l?{}:l;return e("el-table",we({props:we(we({},c),{},{data:a})},u),function t(n){return n.map((function(n,i){var r,o;r=!1===n.columnKey?"".concat(+new Date).concat(i):n.columnKey||n.prop||"".concat(+new Date).concat(i),n.header?o=function(t){return n.header(e,t)}:n.labelI18n&&(o=n.labelI18n);var a={props:n,key:r,scopedSlots:{default:n.render?function(t){return n.render(e,t)}:void 0,header:o}};return n.children?e("el-table-column",a,t(n.children)):e("el-table-column",a)}))}(r))},install:function(e){e.component(Ee.name,Ee)}},xe=Ee,_e=function(){var e=this.$createElement;return(this._self._c||e)("i",{staticClass:"iconfont icon-fanhui icon-back",attrs:{title:""},on:{click:this.back}})};_e._withStripped=!0;var Re={name:"KeToBack",components:{},data:function(){return{}},mounted:function(){},methods:{back:function(){this.$router.back()}}},Ie=(n(57),m(Re,_e,[],!1,null,"eb6babfe",null).exports);Ie.install=function(e){e.component(Ie.name,Ie)};var Ce=Ie,Se=function(){var e=this.$createElement;this._self._c;return this._m(0)};Se._withStripped=!0;var Te={name:"KeUnfinished",data:function(){return{}},mounted:function(){},methods:{}},Be=(n(58),m(Te,Se,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"shadow"},[t("div",{staticClass:"inner"},[this._v("\n    \n  ")])])}],!1,null,"0a252864",null).exports);Be.install=function(e){e.component(Be.name,Be)};var Oe=Be,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uploadAli"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.uploadAli.chooseBtnHide,expression:"!uploadAli.chooseBtnHide"}],ref:"chooseBtn",on:{click:e.chooseFiles}},[e._v("\n    "+e._s(e.uploadAli.chooseBtnName||"")+"\n  ")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.uploadAli.uploadBtnHide,expression:"!uploadAli.uploadBtnHide"}],ref:"uploadBtn",attrs:{type:"primary"}},[e._v("\n    "+e._s(e.uploadAli.uploadBtnName||"")+"\n  ")]),0!==e.$tools.objProxy(e.uploaderObj,[]).files._.length&&e.multiSelection?n("el-button",{attrs:{type:"success"},on:{click:e.resetFiles}},[e._v("\n    \n  ")]):e._e(),e._t("uploadList",[0!==e.$tools.objProxy(e.uploaderObj,[]).files._.length?n("div",{staticClass:"files"},e._l(e.uploaderObj.files,(function(t,i){return n("div",{key:i},[n("span",{staticClass:"fileName"},[e._v("\n          "+e._s(e.showFileMsg(t))+"\n        ")]),n("i",{staticClass:"iconfont icon-shanchu",on:{click:function(n){e.removeFile(t)}}}),e.$tools.objProxy(e.uploadAli,!0).files.progress._?n("el-progress",{staticClass:"progress",attrs:{status:"success","text-inside":!0,"stroke-width":14,percentage:t.percent}}):e._e()],1)})),0):e._e()],{uploaderObj:e.uploaderObj})],2)};De._withStripped=!0;var ke=n(3),Me=n.n(ke);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ne(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={name:"KeUploadAli",components:{},props:{uploadAli:{type:Object,default:function(){return{dirname:"",finished:!0,autoUpload:!1,chooseBtnHide:!1,chooseBtnName:"",uploadBtnHide:!1,uploadBtnName:"",uploadedList:[],extraList:[],files:{limit:0,existed:0,size:0,progress:!0,extensions:[],repetition:!0}}}},config:{type:Object,default:function(){return{}}}},data:function(){return{baseConfig:{resourceUrl:"//cdn.abc.abc.com/",ossUrl:"http://oss.aliyuncs.com/abc",host:"https://abc-console.oss-cn-beijing.aliyuncs.com",accessid:"accessid",accesskey:"accesskey",policyText:{expiration:"2025-01-01T12:00:00.000Z",conditions:[["content-length-range",0,1048576e3]]}},uploaderObj:{},fileList:[],policyBase64:"",signature:""}},computed:{multiSelection:function(){return 1!==this.$tools.objProxy(this.uploadAli,2).files.limit._},uploadConfig:function(){return Fe(Fe({},this.baseConfig),this.config)}},mounted:function(){this.init()},methods:{init:function(){this.policyBase64=this.$tools.Base64.encode(JSON.stringify(this.uploadConfig.policyText));var e=this.$tools.CryptoJS.HmacSHA1(this.policyBase64,this.uploadConfig.accesskey);this.signature=e.toString(this.$tools.CryptoJS.enc.Base64),this.pluploadInit()},message:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;this.$ElMessage({message:e,type:t,duration:n})},showFileMsg:function(e){var t=e.name,n=this.computeSize(e.size),i="";return 5===e.status?i="":4===e.status?i="":e.percent&&(i="".concat(e.percent,"%")),"".concat(t," - ").concat(n).concat(i)},computeSize:function(e){var t="";return e<1024?t="".concat(e,"B"):e>=1024&&e<1048576?t="".concat((e/1024).toFixed(1),"KB"):e>=1048576&&e<1073741824?t="".concat((e/1024/1024).toFixed(1),"MB"):e>=1073741824&&e<1099511627776&&(t="".concat((e/1024/1024/1024).toFixed(1),"GB")),t},chooseFiles:function(){this.addFileFilterImg()},resetFiles:function(){this.uploaderObj.stop(),this.uploadAli.finished=!0;for(var e=this.uploaderObj.files.length;e>0;e--)this.uploaderObj.removeFile(this.uploaderObj.files[e-1]);this.uploadAli.uploadedList=[],this.fileList=[]},removeFile:function(e){var t=this;2===e.status&&(this.uploaderObj.stop(),this.message("","warning",3e3)),this.uploaderObj.removeFile(e),this.uploadAli.finished=!0,this.uploaderObj.files.some((function(e){if([1,2].includes(e.status))return t.uploadAli.finished=!1,!0})),this.listKillFile(e)},listKillFile:function(e){this.uploadAli.uploadedList.some((function(t,n,i){if(t.id===e.id)return i.splice(n,1),!0})),this.fileList.some((function(t,n,i){if(t.id===e.id)return i.splice(n,1),!0}))},pluploadInit:function(){this.addFileFilterImg(),this.uploaderObj=new Me.a.Uploader({url:this.uploadConfig.ossUrl,browse_button:this.$refs.chooseBtn.$el,multi_selection:this.multiSelection,filters:{mime_types:this.$tools.objProxy(this.uploadAli,[]).files.extensions._.length?[{extensions:this.uploadAli.files.extensions.join()}]:void 0,prevent_duplicates:this.$tools.objProxy(this.uploadAli,!0).files.repetition._,max_file_size:this.$tools.objProxy(this.uploadAli,"",[]).files.size._,imgSize:this.$tools.objProxy(this.uploadAli,"",[]).files.img.size._},runtimes:"html5,flash,silverlight,html4",flashSwfUrl:"plupload/js/Moxie.swf",silverlightXapUrl:"plupload/js/Moxie.xap",init:{PostInit:this.PostInit,FileFiltered:this.FileFiltered,FilesAdded:this.FilesAdded,BeforeUpload:this.BeforeUpload,UploadComplete:this.UploadComplete,UploadProgress:this.UploadProgress,FileUploaded:this.FileUploaded,Error:this.Error}}),this.uploaderObj.init()},StateChanged:function(e){console.log("uploader",e)},PostInit:function(e){this.$refs.uploadBtn.$el.onclick=function(){e.start()}},FileFiltered:function(e,t){this.multiSelection?this.$tools.objProxy(this.uploadAli).files.limit._&&e.files.length>this.uploadAli.files.limit-(this.uploadAli.files.existed||0)?(this.message("".concat(this.uploadAli.files.limit,""),"error",3e3),e.removeFile(t)):this.checkExtraList(t,e)?(this.printExtraListInfo(t),e.removeFile(t)):this.uploadAli.finished=!1:(e.files.length>1&&(this.listKillFile(e.files[0]),e.removeFile(e.files[0])),this.uploadAli.finished=!1),this.$emit("checkUploadFile",{uploader:e,file:t})},FilesAdded:function(e,t){this.uploadAli.autoUpload&&e.start()},BeforeUpload:function(e,t){var n="string"==typeof t.name?t.name:"file",i="".concat(+new Date,"_").concat(t.id,"_").concat(n),r=[/\+/g,/\?/g,/%/g,/#/g,/\//g,/\s/g].reduce((function(e,t){return e.replace(t,"_")}),i);this.fileList.push({fileName:r,id:t.id,name:t.name});var o={Filename:"console/",key:"".concat(this.uploadAli.dirname||"limbo","/").concat(r),policy:this.policyBase64,OSSAccessKeyId:this.uploadConfig.accessid,success_action_status:"200",signature:this.signature,multi_selection:!1};e.setOption({url:this.uploadConfig.host,multipart_params:o})},UploadComplete:function(e,t){this.uploadAli.finished=!0},UploadProgress:function(e,t){},FileUploaded:function(e,t,n){200===n.status&&this.getFileUrl(t)},Error:function(e,t){switch(t.code){case-200:this.message("","error",3e3);break;case-300:this.message("","error",3e3);break;case-600:this.message("".concat(this.computeSize(this.uploadAli.files.size)),"error",3e3);break;case-601:this.message("","error",3e3);break;case-602:this.message("","error",3e3);break;default:console.log(t)}},addFileFilterImg:function(){var e=this;this.$tools.objProxy(this.uploadAli).files.img._&&Me.a.addFileFilter("imgSize",(function(t,n,i){if(n.type.includes("image")&&!n.type.includes("gif")){var r=new Me.a.moxie.image.Image;r.onload=function(){var t=!0,n=[];[e.contrast(r.width,0),e.contrast(r.height,1)].forEach((function(e){e.flag||(t=!1),e.rule&&n.push("".concat(e.type,"").concat(e.rule).concat(e.imgSize,""))})),n.length>0&&e.message("".concat(n.join("")),"error",3e3),r.destroy(),r=null,i(t)},r.onerror=function(){console.log("imgOnError",r),r.destroy(),r=null,i(!1)},r.load(n.getSource())}else i(!0)}))},contrast:function(e,t){var n=!1,i="",r=this.$tools.objProxy(this.uploadAli).files.img.size[t]._,o="";switch(1===t&&(o=""),this.$tools.objProxy(this.uploadAli).files.img.limit[t]._){case"=":e===r?n=!0:i="";break;case"!=":e!==r?n=!0:i="";break;case">":e>r?n=!0:i="";break;case"<":e<r?n=!0:i="";break;case">=":e>=r?n=!0:i="";break;case"<=":e<=r?n=!0:i="";break;default:e===r?n=!0:i=""}return{flag:n,rule:i,type:o,imgSize:r}},getSuffix:function(e){var t=e.lastIndexOf("."),n="";return-1!==t&&(n=e.substring(t+1)),n},checkExtraList:function(e,t){var n=this,i=!1,r=this.getSuffix(e.name),o=this.$tools.objProxy(this.uploadAli,[]).extraList._.find((function(e){return e.extensions.includes(r)}));if(o){var a=0;t.files.forEach((function(e){o.extensions.includes(n.getSuffix(e.name))&&++a>o.limit-(o.existed||0)&&(i=!0)}))}return i},printExtraListInfo:function(e){var t=this.getSuffix(e.name),n=this.$tools.objProxy(this.uploadAli,[]).extraList._.find((function(e){return e.extensions.includes(t)}))||{extensions:[]},i="";n.extensions.forEach((function(e){i+=e+" "})),this.message("".concat(i,"").concat(n.limit,""),"error",4e3)},getFileUrl:function(e){var t=this;this.fileList.some((function(n){if(n.id===e.id)return t.uploadAli.uploadedList.push(Fe(Fe({},n),{},{url:"".concat(t.uploadConfig.resourceUrl).concat(t.uploadAli.dirname||"limbo","/").concat(n.fileName),baseUrl:"".concat(t.uploadAli.dirname||"limbo","/").concat(n.fileName)})),!0}))}},watch:{"uploadAli.finished":function(e,t){e?this.$emit("finished",this.uploadAli.uploadedList):this.$emit("unfinished",this.uploadAli.uploadedList)}}},je=(n(59),m(Ue,De,[],!1,null,"a80f6e6a",null).exports);je.install=function(e){e.component(je.name,je)};var ze=je;function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new R(r||[]);return i(a,"_invoke",{value:b(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,A=g&&g(g(I([])));A&&A!==t&&n.call(A,o)&&(m=A);var v=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;i(this,"_invoke",{value:function(i,o){function a(){return new t((function(r,a){!function i(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Qe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function b(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return C()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=p,i(v,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new w(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ge(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var qe={KeAudioFix:v,KeCheckVersion:E,KeColumn:_,KeEditor:T,KeFormItem:z,KeFormModel:K,KePaging:Z,KeQrCode:re,KeSidebar:Ae,KeSidebarFlexible:pe,KeTable:xe,KeToBack:Ce,KeUnfinished:Oe,KeUploadAli:ze},Ve=["Button","Checkbox","CheckboxGroup","Col","DatePicker","Dialog","Form","FormItem","Input","InputNumber","Menu","MenuItem","Option","Pagination","Progress","Table","TableColumn","Tooltip","Radio","RadioGroup","Row","Scrollbar","Select","Submenu","Switch"],Je=function(){var e,t=(e=$e().mark((function e(t){var n,i,r,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},i=n.componentUI,r=n.libraryUI,["tools","Message","MessageBox"].forEach((function(e){if(!n[e]){var t=[{message:"Error:",style:u(o)},{message:""},{message:e,style:u(a)},{message:","}];f(t)}})),i&&i.forEach((function(e){t.component(e.name,e)})),r&&r.forEach((function(e){t.use(e)})),t.prototype.$tools=Object.assign({},t.prototype.$tools,n.tools),t.prototype.$ElMessage=n.Message,t.prototype.$ElMessageBox=n.MessageBox,Object.keys(qe).forEach((function(e){t.component(qe[e].name,qe[e])}));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){Ge(o,i,r,a,s,"next",e)}function s(e){Ge(o,i,r,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();t.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({setLang:F,install:Je,componentUI:Ve},qe)}]).default;